2025-12-23 08:14:57 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:14:57 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:14:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 08:14:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 08:15:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:15:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 340 ms. Found 10 JPA repository interfaces.
2025-12-23 08:15:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:15:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:15:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:15:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:15:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 12857 ms
2025-12-23 08:15:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:15:12 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 08:15:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:15:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 08:15:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@64612fb0
2025-12-23 08:15:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 08:15:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:15:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:15:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:15:20 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:15:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:15:21 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 08:15:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:15:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:15:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:15:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:15:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:15:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:15:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:15:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:15:26 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:15:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:15:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:15:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:15:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:15:28 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452518)
2025-12-23 08:15:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:15:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:15:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:15:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:15:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:15:31 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:15:31 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5f433eaa:0/SimpleConnection@34fa4da8 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50206]
2025-12-23 08:15:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 35.488 seconds (process running for 37.978)
2025-12-23 08:15:34 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:15:34 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:15:34 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-23 08:15:40 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-23 08:15:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:15:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:15:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:15:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:15:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:15:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:15:41 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:15:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:15:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:15:41 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:15:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 08:15:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 08:15:41 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:15:41 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:15:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:15:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 10 JPA repository interfaces.
2025-12-23 08:15:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:15:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:15:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:15:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:15:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 796 ms
2025-12-23 08:15:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:15:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:15:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 08:15:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7180a94a
2025-12-23 08:15:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 08:15:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:15:42 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:15:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:15:42 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:15:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:15:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:15:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:15:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:15:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:15:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:15:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:15:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:15:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:15:45 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:15:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:15:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:15:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:15:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:15:47 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452518)
2025-12-23 08:15:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:15:50 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:15:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:15:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:15:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:15:51 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:15:51 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#551ba4f:0/SimpleConnection@4c35f1ad [delegate=amqp://admin@127.0.0.1:5672/, localPort=50230]
2025-12-23 08:15:51 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.971 seconds (process running for 57.243)
2025-12-23 08:15:51 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:16:33 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-12-23 08:16:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:16:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:16:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:16:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:16:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:16:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:16:34 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:16:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:16:34 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:16:34 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:16:34 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 08:16:34 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 08:16:36 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:16:36 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:16:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:16:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 206 ms. Found 10 JPA repository interfaces.
2025-12-23 08:16:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:16:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:16:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:16:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:16:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2478 ms
2025-12-23 08:16:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:16:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:16:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 08:16:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@4af08ca0
2025-12-23 08:16:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 08:16:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:16:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:16:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:16:39 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:16:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:16:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:16:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:16:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:16:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:16:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:16:43 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:16:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:16:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:16:46 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452518)
2025-12-23 08:16:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:16:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:16:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:16:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:16:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:16:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:16:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#774ae7b1:0/SimpleConnection@392ce2e5 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50272]
2025-12-23 08:16:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 11.098 seconds (process running for 112.943)
2025-12-23 08:16:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:16:57 [http-nio-8088-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:16:57 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:16:57 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-23 08:16:58 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - notification type: TEAM_ANNOUNCEMENT
2025-12-23 08:16:58 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued channel notification 6 for channel 'Packages Ts' (priority: NORMAL)
2025-12-23 08:16:58 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - Created channel notification 6 for channel Packages Ts 
2025-12-23 08:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - Processing channel notification 6
2025-12-23 08:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-23 08:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: -1001735153839
2025-12-23 08:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-23 08:17:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-23 08:17:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to -1001735153839 (msg_id: 57)
2025-12-23 08:17:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Channel notification 6 sent successfully
2025-12-23 08:18:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-12-23 08:18:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:13 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:18:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:18:13 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:18:13 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:13 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 08:18:13 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 08:18:14 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:18:14 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:18:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:18:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 423 ms. Found 10 JPA repository interfaces.
2025-12-23 08:18:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:18:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:18:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:18:18 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:18:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4252 ms
2025-12-23 08:18:22 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:18:22 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:18:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 08:18:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@758b45a2
2025-12-23 08:18:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 08:18:22 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:18:22 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:18:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:18:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:18:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:27 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'notificationConsumer': Resolution of declared constructors on bean Class [com.bronx.telegram.notification.consumer.NotificationConsumer] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5796c74a] failed
2025-12-23 08:18:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:18:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:18:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 08:18:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 08:18:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 08:18:27 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 08:18:28 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'notificationConsumer': Resolution of declared constructors on bean Class [com.bronx.telegram.notification.consumer.NotificationConsumer] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5796c74a] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.bronx.telegram.notification.NotificationApplication.main(NotificationApplication.java:10) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.8.jar:3.5.8]
Caused by: java.lang.NoClassDefFoundError: com/bronx/telegram/notification/service/telegramMessage/TelegramMessageSender
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:2985) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2354) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.14.jar:6.2.14]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.bronx.telegram.notification.service.telegramMessage.TelegramMessageSender
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:547) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.5.8.jar:3.5.8]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490) ~[na:na]
	... 27 common frames omitted
2025-12-23 08:18:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:18:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:18:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:18:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 338 ms. Found 10 JPA repository interfaces.
2025-12-23 08:18:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:18:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:18:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:18:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:18:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3714 ms
2025-12-23 08:18:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:18:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:18:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 08:18:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@4b1ebaf3
2025-12-23 08:18:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 08:18:35 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:18:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:18:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:18:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:18:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:18:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:18:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:18:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:18:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:18:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:18:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:18:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:18:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:18:39 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:18:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:18:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:18:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:18:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:18:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:18:41 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452637)
2025-12-23 08:18:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:18:43 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:18:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:18:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:18:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:18:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:18:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3ebc2a4f:0/SimpleConnection@5948a5c0 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50399]
2025-12-23 08:18:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 16.075 seconds (process running for 233.599)
2025-12-23 08:18:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:18:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:18:50 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:18:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 08:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:18:50 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:18:50 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:50 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 08:18:50 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 08:18:51 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:18:51 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:18:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:18:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 10 JPA repository interfaces.
2025-12-23 08:18:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:18:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:18:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:18:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:18:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4027 ms
2025-12-23 08:18:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:18:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:18:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-12-23 08:18:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@536add2f
2025-12-23 08:18:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-12-23 08:18:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:18:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:18:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:18:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:18:57 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:18:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:18:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:18:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:18:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:18:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:18:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:18:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:18:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:18:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:19:00 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:19:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:19:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:19:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:19:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:19:02 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452637)
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:19:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/NotificationConsumer.class]: Unsatisfied dependency expressed through constructor parameter 4: No qualifying bean of type 'com.bronx.telegram.notification.service.telegramMessage.TelegramMessageSender' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:19:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:19:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:19:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-12-23 08:19:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-12-23 08:19:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 08:19:02 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 08:19:02 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 4 of constructor in com.bronx.telegram.notification.consumer.NotificationConsumer required a bean of type 'com.bronx.telegram.notification.service.telegramMessage.TelegramMessageSender' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.telegramMessage.TelegramMessageSender' in your configuration.

2025-12-23 08:19:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 4630 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:19:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:19:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:19:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 10 JPA repository interfaces.
2025-12-23 08:19:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:19:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:19:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:19:48 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:19:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 895 ms
2025-12-23 08:19:48 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:19:48 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:19:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-12-23 08:19:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@1430c60e
2025-12-23 08:19:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-12-23 08:19:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:19:48 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:19:48 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:19:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:19:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:19:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:19:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:19:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:19:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:19:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:19:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:19:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:19:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:19:51 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:19:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:19:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:19:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:19:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:19:53 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452747)
2025-12-23 08:19:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:19:54 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:19:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:19:54 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:19:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:19:54 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:19:54 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1ea5610f:0/SimpleConnection@614b7ba7 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50466]
2025-12-23 08:19:54 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.143 seconds (process running for 300.712)
2025-12-23 08:19:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:20:28 [http-nio-8088-exec-2] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:20:28 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:20:28 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 22 ms
2025-12-23 08:20:28 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - notification type: TEAM_ANNOUNCEMENT
2025-12-23 08:20:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued channel notification 7 for channel 'Packages Ts' (priority: NORMAL)
2025-12-23 08:20:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - Created channel notification 7 for channel Packages Ts 
2025-12-23 08:20:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - Processing channel notification 7
2025-12-23 08:20:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-23 08:20:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: -1001735153839
2025-12-23 08:20:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-23 08:20:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-23 08:20:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] ERROR c.b.t.n.s.t.MessageType.AudioMessage - Thumbnail not found in resources: /images/thumb.png
2025-12-23 08:20:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to -1001735153839 (msg_id: 58)
2025-12-23 08:20:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Channel notification 7 sent successfully
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:21:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:21:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:21:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:21:12 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:21:12 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:21:12 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-12-23 08:21:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-12-23 08:21:21 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6239 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:21:21 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:21:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 08:21:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 08:21:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:21:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 101 ms. Found 10 JPA repository interfaces.
2025-12-23 08:21:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:21:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:21:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:21:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:21:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3511 ms
2025-12-23 08:21:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:21:25 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 08:21:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:21:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 08:21:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@19cf72eb
2025-12-23 08:21:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 08:21:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:21:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:21:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:21:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:21:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:21:28 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 08:21:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:21:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:21:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:21:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:21:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:21:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:21:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:21:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:21:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:21:31 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:21:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:21:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:21:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:21:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:21:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:21:34 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766452854)
2025-12-23 08:21:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:21:35 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:21:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:21:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:21:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:21:36 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:21:36 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#fefba2e:0/SimpleConnection@217770aa [delegate=amqp://admin@127.0.0.1:5672/, localPort=50564]
2025-12-23 08:21:36 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 16.282 seconds (process running for 17.351)
2025-12-23 08:21:37 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:21:37 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:21:37 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-23 08:22:24 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - notification type: TEAM_ANNOUNCEMENT
2025-12-23 08:22:25 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued channel notification 8 for channel 'Packages Ts' (priority: NORMAL)
2025-12-23 08:22:25 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - Created channel notification 8 for channel Packages Ts 
2025-12-23 08:22:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - Processing channel notification 8
2025-12-23 08:22:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-23 08:22:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: -1001735153839
2025-12-23 08:22:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-23 08:22:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-23 08:22:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to -1001735153839 (msg_id: 59)
2025-12-23 08:22:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Channel notification 8 sent successfully
2025-12-23 08:26:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 08:26:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:21 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:26:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:26:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:26:21 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:26:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 08:26:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 08:26:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6239 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:26:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:26:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:26:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 10 JPA repository interfaces.
2025-12-23 08:26:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:26:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:26:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:26:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:26:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2199 ms
2025-12-23 08:26:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:26:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:26:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 08:26:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@e4dc790
2025-12-23 08:26:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 08:26:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:26:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:26:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:26:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:26:28 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:26:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:26:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:26:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:26:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:26:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:26:30 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:26:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:26:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:26:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:26:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:26:33 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453160)
2025-12-23 08:26:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:26:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:26:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:26:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:26:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:26:36 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:26:36 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4b222dfa:0/SimpleConnection@1d4735a2 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50796]
2025-12-23 08:26:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 14.114 seconds (process running for 317.62)
2025-12-23 08:26:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:26:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-12-23 08:26:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:26:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:26:39 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:26:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:26:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:26:39 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:26:39 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 08:26:39 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 08:26:39 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6239 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:26:39 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:26:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:26:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 10 JPA repository interfaces.
2025-12-23 08:26:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:26:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:26:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:26:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:26:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1203 ms
2025-12-23 08:26:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:26:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:26:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 08:26:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@69a75d94
2025-12-23 08:26:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 08:26:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:26:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:26:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:26:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:26:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:26:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:26:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:26:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:26:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:26:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:26:45 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:26:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:26:46 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453160)
2025-12-23 08:26:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:26:48 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:26:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:26:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:26:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:26:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:26:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7c9207bb:0/SimpleConnection@3d4dff31 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50817]
2025-12-23 08:26:49 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.679 seconds (process running for 329.563)
2025-12-23 08:26:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:28:00 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 08:28:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:01 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:28:01 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:01 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:01 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:28:01 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 08:28:01 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 08:28:02 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6239 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:28:02 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:28:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:28:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 862 ms. Found 10 JPA repository interfaces.
2025-12-23 08:28:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:28:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:28:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:28:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:28:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7818 ms
2025-12-23 08:28:11 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:28:11 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:28:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 08:28:11 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@183a73c0
2025-12-23 08:28:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 08:28:11 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:28:11 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:28:11 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:28:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:28:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:28:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:28:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:28:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:28:15 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:28:15 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:28:16 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:28:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:28:18 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453264)
2025-12-23 08:28:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:28:19 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:28:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:28:19 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:28:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:28:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:28:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7132f7e:0/SimpleConnection@216a989a [delegate=amqp://admin@127.0.0.1:5672/, localPort=50888]
2025-12-23 08:28:19 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 17.59 seconds (process running for 420.253)
2025-12-23 08:28:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:28:21 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:21 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:28:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:21 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:21 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:28:21 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 08:28:21 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 08:28:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6239 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:28:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:28:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:28:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 383 ms. Found 10 JPA repository interfaces.
2025-12-23 08:28:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:28:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:28:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:28:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:28:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3057 ms
2025-12-23 08:28:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:28:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:28:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 08:28:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@788cc5b5
2025-12-23 08:28:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 08:28:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:28:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:28:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:28:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:28:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:28:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:28:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:28:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:28:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:28:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:28:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:28:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:28:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:28:28 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:28:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:28:30 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453264)
2025-12-23 08:28:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:28:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:28:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:28:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:28:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:28:31 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:28:31 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#12ffc0e:0/SimpleConnection@19e943a1 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50909]
2025-12-23 08:28:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.767 seconds (process running for 432.191)
2025-12-23 08:28:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:28:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 08:28:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 08:34:59 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9779 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:34:59 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:34:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 08:34:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 08:35:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:35:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 579 ms. Found 10 JPA repository interfaces.
2025-12-23 08:35:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:35:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:35:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:35:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:35:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6385 ms
2025-12-23 08:35:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:35:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 08:35:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:35:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 08:35:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a95ef2b
2025-12-23 08:35:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 08:35:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:35:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:35:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:35:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:35:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:35:10 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 08:35:11 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:35:11 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:35:11 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:35:11 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:35:11 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:35:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:35:12 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:35:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:35:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:35:13 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:35:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:35:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:35:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:35:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:35:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 1
2025-12-23 08:35:15 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453632)
2025-12-23 08:35:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:35:17 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:35:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:35:18 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:35:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:35:18 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:35:18 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#12ce5878:0/SimpleConnection@75f9f1f9 [delegate=amqp://admin@127.0.0.1:5672/, localPort=51219]
2025-12-23 08:35:18 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 20.022 seconds (process running for 21.677)
2025-12-23 08:35:18 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:35:18 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:35:18 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-23 08:36:01 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - notification type: TEAM_ANNOUNCEMENT
2025-12-23 08:36:02 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued channel notification 9 for channel 'Packages Ts' (priority: NORMAL)
2025-12-23 08:36:02 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationServiceImpl - Created channel notification 9 for channel Packages Ts 
2025-12-23 08:36:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - Processing channel notification 9
2025-12-23 08:36:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-23 08:36:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: -1001735153839
2025-12-23 08:36:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-23 08:36:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-23 08:36:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to -1001735153839 (msg_id: 60)
2025-12-23 08:36:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Channel notification 9 sent successfully
2025-12-23 08:36:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 5 for processing
2025-12-23 08:36:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 5 for processing
2025-12-23 08:36:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 5 with command null
2025-12-23 08:36:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 5
2025-12-23 08:42:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (0 additions, 5 deletions, 0 modifications)
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:28 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:42:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:42:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:42:29 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:42:29 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 08:42:29 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 08:42:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9779 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:42:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:42:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:42:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 534 ms. Found 10 JPA repository interfaces.
2025-12-23 08:42:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:42:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:42:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:42:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:42:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5255 ms
2025-12-23 08:42:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:42:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:42:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 08:42:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4b95c824
2025-12-23 08:42:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 08:42:37 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:42:37 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:42:37 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:42:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:42:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:42:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:42:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:42:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:42:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:42:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:42:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:42:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:42:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:42:46 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:42:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:42:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:42:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:42:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:42:48 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 08:42:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:42:49 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:42:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:42:49 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:42:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:42:49 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:42:49 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#10c79ef2:0/SimpleConnection@51ec378 [delegate=amqp://admin@127.0.0.1:5672/, localPort=51558]
2025-12-23 08:42:49 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.797 seconds (process running for 473.025)
2025-12-23 08:42:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:42:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (5 additions, 0 deletions, 0 modifications)
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:42:51 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:42:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:42:51 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:42:51 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:42:51 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 08:42:51 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 08:42:52 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9779 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:42:52 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:42:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:42:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 10 JPA repository interfaces.
2025-12-23 08:42:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:42:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:42:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:42:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:42:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 988 ms
2025-12-23 08:42:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:42:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:42:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 08:42:53 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@30c0ec78
2025-12-23 08:42:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 08:42:53 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:42:53 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:42:53 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:42:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:42:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:42:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:42:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:42:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:42:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:42:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:42:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:42:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:42:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:42:56 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:42:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:42:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:42:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:42:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:42:58 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 08:42:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:42:58 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:42:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:42:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:42:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:42:59 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:42:59 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1dd48509:0/SimpleConnection@4520268e [delegate=amqp://admin@127.0.0.1:5672/, localPort=51572]
2025-12-23 08:42:59 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.197 seconds (process running for 482.487)
2025-12-23 08:42:59 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 08:47:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:47:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:47:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 08:47:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:47:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:47:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 08:47:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 08:47:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 08:48:05 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 14108 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 08:48:05 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 08:48:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 08:48:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 08:48:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 08:48:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 174 ms. Found 10 JPA repository interfaces.
2025-12-23 08:48:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 08:48:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 08:48:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 08:48:08 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 08:48:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2873 ms
2025-12-23 08:48:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 08:48:09 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 08:48:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 08:48:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 08:48:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c1ef744
2025-12-23 08:48:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 08:48:09 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 08:48:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 08:48:10 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 08:48:11 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 08:48:11 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 08:48:12 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 08:48:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 08:48:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 08:48:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 08:48:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:48:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 08:48:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 08:48:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 08:48:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:48:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:48:17 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:48:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 08:48:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 08:48:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 08:48:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:48:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 08:48:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:48:20 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:48:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 08:48:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 08:48:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 08:48:21 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 08:48:21 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 08:48:23 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 08:48:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 08:48:24 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 08:48:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 08:48:24 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 08:48:24 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2734e1b6:0/SimpleConnection@20dcba2f [delegate=amqp://admin@127.0.0.1:5672/, localPort=51799]
2025-12-23 08:48:24 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 19.425 seconds (process running for 21.302)
2025-12-23 08:54:17 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 08:54:17 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 08:54:17 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 13 ms
2025-12-23 08:54:17 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 6 for processing
2025-12-23 08:54:17 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 7 for processing
2025-12-23 08:54:17 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 6 for processing
2025-12-23 08:54:17 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 7 for processing
2025-12-23 08:54:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 7 with command null
2025-12-23 08:54:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 6 with command null
2025-12-23 08:54:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 7
2025-12-23 08:54:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 6
2025-12-23 08:55:32 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 8 for processing
2025-12-23 08:55:32 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 8 for processing
2025-12-23 08:55:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 8 with command null
2025-12-23 08:55:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 8
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - === Chat Member Update ===
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat ID: -5025113915
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat Type: group
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat Title: Bot Group Testing
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Description chart: N/A
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - All message: {"id":-5025113915,"title":"Bot Group Testing","type":"group","all_members_are_administrators":true,"accepted_gift_types":{"unlimited_gifts":false,"limited_gifts":false,"unique_gifts":false,"premium_subscription":false}}
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - chart member: {"chat":{"id":-5025113915,"title":"Bot Group Testing","type":"group","all_members_are_administrators":true,"accepted_gift_types":{"unlimited_gifts":false,"limited_gifts":false,"unique_gifts":false,"premium_subscription":false}},"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"date":1766454932,"old_chat_member":{"user":{"id":5453551747,"is_bot":true,"first_name":"Menglang _Bot","username":"menglang6969Bot"},"status":"left"},"new_chat_member":{"user":{"id":5453551747,"is_bot":true,"first_name":"Menglang _Bot","username":"menglang6969Bot"},"status":"member"}}
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - chatMember from true ‚Üí {"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"}
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Status changed: left ‚Üí member
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 9 for processing
2025-12-23 08:55:33 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 9 for processing
2025-12-23 08:55:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 9 with command /add_new_chat
2025-12-23 08:55:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.TelegramChannelServiceImpl - ‚úÖ Registered group 'Bot Group Testing' for subscription 2
2025-12-23 08:55:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 9
2025-12-23 08:57:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationServiceImpl - notification type: TEAM_ANNOUNCEMENT
2025-12-23 08:57:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued channel notification 10 for channel 'Bot Group Testing' (priority: NORMAL)
2025-12-23 08:57:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationServiceImpl - Created channel notification 10 for channel Bot Group Testing 
2025-12-23 08:57:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - Processing channel notification 10
2025-12-23 08:57:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-23 08:57:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: -5025113915
2025-12-23 08:57:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-23 08:57:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-23 08:57:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to -5025113915 (msg_id: 6810)
2025-12-23 08:57:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Channel notification 10 sent successfully
2025-12-23 09:05:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:05:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:05:46 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 09:05:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:05:46 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:05:46 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:05:46 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 09:05:46 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 09:05:49 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 14108 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 09:05:49 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 09:05:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 09:05:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 745 ms. Found 10 JPA repository interfaces.
2025-12-23 09:05:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 09:05:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 09:05:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 09:05:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 09:05:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9006 ms
2025-12-23 09:05:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 09:05:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 09:05:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 09:05:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4d151369
2025-12-23 09:05:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 09:05:59 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 09:05:59 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 09:05:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 09:06:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 09:06:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:06:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 09:06:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 09:06:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 09:06:01 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:06:01 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:06:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:06:05 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:06:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:06:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 09:06:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 09:06:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:06:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:06:08 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 09:06:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 09:06:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 09:06:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 09:06:09 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 09:06:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 09:06:09 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 09:06:09 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5f6ae454:0/SimpleConnection@6b3f6b73 [delegate=amqp://admin@127.0.0.1:5672/, localPort=52676]
2025-12-23 09:06:09 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 21.35 seconds (process running for 1085.937)
2025-12-23 09:06:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 09:06:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:06:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:06:44 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 09:06:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:06:44 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:06:44 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:06:44 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 09:06:44 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 09:06:48 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 14108 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 09:06:48 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 09:06:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 09:06:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 378 ms. Found 10 JPA repository interfaces.
2025-12-23 09:06:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 09:06:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 09:06:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 09:06:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 09:06:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9007 ms
2025-12-23 09:06:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 09:06:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 09:06:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 09:06:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@7b1d1dc3
2025-12-23 09:06:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 09:06:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 09:06:58 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 09:06:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 09:06:59 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 09:07:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 09:07:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 09:07:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 09:07:01 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:01 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 09:07:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 09:07:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:07:03 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 09:07:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 09:07:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:07:05 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 09:07:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 09:07:06 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 09:07:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 09:07:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 09:07:06 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 09:07:06 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.bronx.telegram.notification.consumer.WebhookConsumer required a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' in your configuration.

2025-12-23 09:07:08 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 14108 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 09:07:08 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 09:07:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 09:07:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 10 JPA repository interfaces.
2025-12-23 09:07:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 09:07:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 09:07:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 09:07:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 09:07:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 763 ms
2025-12-23 09:07:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 09:07:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 09:07:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 09:07:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@36fc01e0
2025-12-23 09:07:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 09:07:09 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 09:07:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 09:07:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 09:07:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 09:07:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 09:07:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 09:07:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 09:07:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:11 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:07:12 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:12 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:07:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 09:07:14 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:07:14 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 09:07:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 09:07:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 09:07:17 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 09:07:17 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 09:07:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 09:07:17 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 09:07:17 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2c311925:0/SimpleConnection@16caafd [delegate=amqp://admin@127.0.0.1:5672/, localPort=52744]
2025-12-23 09:07:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.306 seconds (process running for 1154.027)
2025-12-23 09:07:17 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 09:07:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:07:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 09:07:31 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 09:07:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:31 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:31 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:31 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 09:07:31 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 09:07:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 14108 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 09:07:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 09:07:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 09:07:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 360 ms. Found 10 JPA repository interfaces.
2025-12-23 09:07:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 09:07:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 09:07:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 09:07:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 09:07:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9881 ms
2025-12-23 09:07:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 09:07:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 09:07:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 09:07:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@4437e8a8
2025-12-23 09:07:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 09:07:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 09:07:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 09:07:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 09:07:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 09:07:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 09:07:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 09:07:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 09:07:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 09:07:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 09:07:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 09:07:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 09:07:53 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 09:07:54 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - ‚ùå Failed to verify bot token
java.io.InterruptedIOException: null
	at okhttp3.internal.http2.Http2Stream.waitForIo$okhttp(Http2Stream.kt:660) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http2.Http2Stream.takeHeaders(Http2Stream.kt:140) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http2.Http2ExchangeCodec.readResponseHeaders(Http2ExchangeCodec.kt:97) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:110) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:93) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at com.bronx.telegram.notification.service.impl.TelegramBotClient.lambda$new$0(TelegramBotClient.java:52) ~[main/:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.12.0.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.12.0.jar:na]
	at com.bronx.telegram.notification.service.impl.TelegramBotClient.verifyToken(TelegramBotClient.java:71) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.TelegramBotServiceImpl.registerBot(TelegramBotServiceImpl.java:97) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.TelegramBotServiceImpl.initializeBots(TelegramBotServiceImpl.java:70) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.bronx.telegram.notification.NotificationApplication.main(NotificationApplication.java:10) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.8.jar:3.5.8]
2025-12-23 09:07:54 [restartedMain] ERROR c.b.t.n.s.i.TelegramBotServiceImpl - ‚ùå Invalid token for bot menglang6969Bot
2025-12-23 09:07:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 09:07:55 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 1 requests)
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 09:07:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 09:07:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 09:07:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 09:07:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 10:12:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 36822 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:12:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:12:37 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 10:12:37 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 10:12:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:12:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 196 ms. Found 11 JPA repository interfaces.
2025-12-23 10:12:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:12:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:12:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:12:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:12:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6235 ms
2025-12-23 10:12:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:12:45 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 10:12:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:12:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 10:12:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6772d87a
2025-12-23 10:12:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 10:12:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:12:48 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:12:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:12:52 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:12:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:12:53 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 10:12:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:12:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:12:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:12:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:12:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:12:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:12:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:12:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:12:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:12:57 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:12:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:12:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:12:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:12:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:12:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:13:00 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:13:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:13:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:13:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:13:03 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:13:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:13:03 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:13:03 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2c534178:0/SimpleConnection@41143b1a [delegate=amqp://admin@127.0.0.1:5672/, localPort=55370]
2025-12-23 10:13:03 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 29.913 seconds (process running for 34.41)
2025-12-23 10:13:04 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 10:13:04 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 10:13:04 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-23 10:16:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 184 class path changes (0 additions, 184 deletions, 0 modifications)
2025-12-23 10:16:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:16:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:16:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:16:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:16:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:16:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:16:09 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:16:09 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:16:09 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:16:09 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:16:09 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 10:16:09 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 10:16:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 36822 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:16:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:16:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:16:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 435 ms. Found 11 JPA repository interfaces.
2025-12-23 10:16:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:16:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:16:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:16:37 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:16:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6000 ms
2025-12-23 10:16:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 38252 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:16:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:16:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:16:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:16:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 10:16:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 10:16:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 10:16:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@56fb4638
2025-12-23 10:16:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 10:16:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:16:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:16:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:16:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:16:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:16:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:16:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:16:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:16:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:16:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:16:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:16:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 346 ms. Found 11 JPA repository interfaces.
2025-12-23 10:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:16:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:16:44 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:16:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:16:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:16:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:16:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:16:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:16:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6420 ms
2025-12-23 10:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:16:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:16:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:16:45 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 10:16:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 10:16:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7baec134
2025-12-23 10:16:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:16:46 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:16:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:16:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:16:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:16:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:16:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:16:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:16:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:16:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:16:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:16:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7bd3e77c:0/SimpleConnection@1aa5ed8a [delegate=amqp://admin@127.0.0.1:5672/, localPort=55618]
2025-12-23 10:16:48 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 16.709 seconds (process running for 259.045)
2025-12-23 10:16:48 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 10:16:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:16:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:16:50 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 10:16:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:16:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:16:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:16:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:16:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:16:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:16:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:16:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:16:53 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:16:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:16:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:16:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:16:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:16:55 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:16:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:16:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:16:58 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 10:16:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:16:58 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:16:58 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:16:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:16:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 10:16:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 10:16:58 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:16:58 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8088 was already in use.

Action:

Identify and stop the process that's listening on port 8088 or configure this application to listen on another port.

2025-12-23 10:19:55 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 39595 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:19:55 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:19:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 10:19:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 10:19:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:19:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 190 ms. Found 11 JPA repository interfaces.
2025-12-23 10:19:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:19:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:19:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:19:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:19:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4104 ms
2025-12-23 10:19:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:19:59 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 10:19:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:20:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 10:20:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c23f45b
2025-12-23 10:20:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 10:20:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:20:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:20:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:20:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:20:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:20:03 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 10:20:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:20:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:20:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:20:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:20:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:20:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:20:07 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:20:07 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:20:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:20:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:20:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:20:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:20:09 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:20:09 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:20:11 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:20:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:20:12 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:20:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:20:12 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:20:12 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#778c5716:0/SimpleConnection@7ce14e81 [delegate=amqp://admin@127.0.0.1:5672/, localPort=55805]
2025-12-23 10:20:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.44 seconds (process running for 20.451)
2025-12-23 10:20:13 [RMI TCP Connection(6)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 10:20:13 [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 10:20:13 [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-12-23 10:21:25 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 10 for processing
2025-12-23 10:21:25 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 10 for processing
2025-12-23 10:21:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 10 with command /start
2025-12-23 10:21:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6812
2025-12-23 10:21:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 10
2025-12-23 10:21:42 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 11 for processing
2025-12-23 10:21:42 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 11 for processing
2025-12-23 10:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 11 with command null
2025-12-23 10:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 11
2025-12-23 10:22:41 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 12 for processing
2025-12-23 10:22:41 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 12 for processing
2025-12-23 10:22:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 12 with command /start
2025-12-23 10:22:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6815
2025-12-23 10:22:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 12
2025-12-23 10:22:44 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 13 for processing
2025-12-23 10:22:44 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 13 for processing
2025-12-23 10:22:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 13 with command null
2025-12-23 10:22:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 13
2025-12-23 10:23:30 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 14 for processing
2025-12-23 10:23:30 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 14 for processing
2025-12-23 10:23:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 14 with command /start
2025-12-23 10:23:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6818
2025-12-23 10:23:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 14
2025-12-23 10:23:31 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 15 for processing
2025-12-23 10:23:31 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 15 for processing
2025-12-23 10:23:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 15 with command null
2025-12-23 10:23:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 15
2025-12-23 10:24:04 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 16 for processing
2025-12-23 10:24:04 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 16 for processing
2025-12-23 10:24:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 16 with command null
2025-12-23 10:24:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 16
2025-12-23 10:24:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 17 for processing
2025-12-23 10:24:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 17 for processing
2025-12-23 10:24:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 17 with command /register
2025-12-23 10:24:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6822)
2025-12-23 10:24:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 17
2025-12-23 10:25:09 [http-nio-8088-exec-10] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 18 for processing
2025-12-23 10:25:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 18 with command null
2025-12-23 10:25:09 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 18 for processing
2025-12-23 10:25:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 18
2025-12-23 10:27:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 10:27:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:27:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:27:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:27:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:27:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:27:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:27:20 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:27:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 7 requests)
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:27:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:27:20 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:27:20 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 10:27:20 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 10:27:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 39595 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:27:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:27:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:27:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 223 ms. Found 11 JPA repository interfaces.
2025-12-23 10:27:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:27:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:27:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:27:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:27:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3322 ms
2025-12-23 10:27:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:27:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:27:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 10:27:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7143c2c0
2025-12-23 10:27:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 10:27:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:27:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:27:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:27:28 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:27:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:27:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:27:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:27:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:27:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:27:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:27:32 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:27:32 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:27:34 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:27:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:27:35 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:27:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:27:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:27:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 10:27:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 10:27:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 10:27:35 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:27:35 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-23 10:27:36 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 39595 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:27:36 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:27:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:27:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 11 JPA repository interfaces.
2025-12-23 10:27:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:27:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:27:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:27:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:27:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1616 ms
2025-12-23 10:27:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:27:39 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:27:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 10:27:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@6e08fbd6
2025-12-23 10:27:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 10:27:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:27:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:27:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:27:39 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:27:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:27:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:27:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:27:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:27:40 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:27:40 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:27:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:27:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:27:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:27:42 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:27:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:27:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:27:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:27:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:27:44 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:27:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:27:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:27:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:27:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:27:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:27:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:27:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#538a1c94:0/SimpleConnection@31917c2d [delegate=amqp://admin@127.0.0.1:5672/, localPort=55922]
2025-12-23 10:27:46 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 10.091 seconds (process running for 474.483)
2025-12-23 10:27:46 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 10:30:24 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 10:30:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:30:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:30:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:30:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:30:25 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:30:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:30:25 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:30:25 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:30:25 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 10:30:25 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 10:30:26 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 39595 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:30:26 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:30:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:30:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1463 ms. Found 11 JPA repository interfaces.
2025-12-23 10:30:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:30:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:30:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:30:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:30:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4724 ms
2025-12-23 10:30:31 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:30:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:30:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 10:30:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@305ab80e
2025-12-23 10:30:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 10:30:32 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:30:32 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:30:32 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:30:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:30:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:30:34 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/NotificationConsumer.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.bronx.telegram.notification.service.TelegramBotService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:30:34 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:30:34 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:30:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:30:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 10:30:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 10:30:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 10:30:34 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:30:34 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.bronx.telegram.notification.consumer.NotificationConsumer required a bean of type 'com.bronx.telegram.notification.service.TelegramBotService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.TelegramBotService' in your configuration.

2025-12-23 10:31:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 39595 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:31:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:31:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:31:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 366 ms. Found 11 JPA repository interfaces.
2025-12-23 10:31:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:31:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:31:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:31:39 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:31:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5098 ms
2025-12-23 10:31:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:31:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:31:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 10:31:40 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@1a5e283d
2025-12-23 10:31:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 10:31:40 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:31:40 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:31:40 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:31:42 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:31:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:31:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:31:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:31:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:31:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:31:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:31:47 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:31:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:31:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:31:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:31:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:31:50 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:31:50 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:31:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:31:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:31:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 10:31:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 10:40:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:40:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:40:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 10:40:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 10:40:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:40:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 11 JPA repository interfaces.
2025-12-23 10:40:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:40:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:40:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:40:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:40:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3411 ms
2025-12-23 10:40:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:40:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 10:40:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:40:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 10:40:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15dd33fb
2025-12-23 10:40:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 10:40:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:40:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:40:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:40:23 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:40:24 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:40:24 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 10:40:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:40:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:40:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:40:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:40:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:40:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:40:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:40:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:40:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:40:28 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:40:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:40:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:40:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:40:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:40:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:40:30 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:40:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:40:32 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:40:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:40:33 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:40:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:40:33 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:40:33 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#340d6adb:0/SimpleConnection@1d1202ee [delegate=amqp://admin@127.0.0.1:5672/, localPort=55988]
2025-12-23 10:40:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.057 seconds (process running for 20.631)
2025-12-23 10:40:53 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 10:40:53 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 10:40:53 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-23 10:40:54 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 19 for processing
2025-12-23 10:40:54 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 19 for processing
2025-12-23 10:40:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 19 with command /register
2025-12-23 10:40:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 10:40:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6825)
2025-12-23 10:40:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 19
2025-12-23 10:41:02 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 20 for processing
2025-12-23 10:41:02 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 20 for processing
2025-12-23 10:41:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 20 with command /start
2025-12-23 10:41:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 10:41:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6827)
2025-12-23 10:41:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 20
2025-12-23 10:41:21 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 21 for processing
2025-12-23 10:41:21 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 21 for processing
2025-12-23 10:41:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 21 with command /cancel
2025-12-23 10:41:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6829)
2025-12-23 10:41:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6830
2025-12-23 10:41:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 21
2025-12-23 10:41:35 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 22 for processing
2025-12-23 10:41:35 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 22 for processing
2025-12-23 10:41:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 22 with command null
2025-12-23 10:41:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 22
2025-12-23 10:41:40 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 23 for processing
2025-12-23 10:41:40 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 23 for processing
2025-12-23 10:41:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 23 with command /start
2025-12-23 10:41:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6833
2025-12-23 10:41:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 23
2025-12-23 10:41:42 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 24 for processing
2025-12-23 10:41:42 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 24 for processing
2025-12-23 10:41:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 24 with command null
2025-12-23 10:41:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 24
2025-12-23 10:41:46 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 25 for processing
2025-12-23 10:41:46 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 25 for processing
2025-12-23 10:41:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 25 with command /start
2025-12-23 10:41:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6836
2025-12-23 10:41:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 25
2025-12-23 10:41:48 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 26 for processing
2025-12-23 10:41:48 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 26 for processing
2025-12-23 10:41:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 26 with command null
2025-12-23 10:41:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 26
2025-12-23 10:41:59 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 27 for processing
2025-12-23 10:41:59 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 27 for processing
2025-12-23 10:41:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 27 with command /register
2025-12-23 10:42:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6839)
2025-12-23 10:42:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 27
2025-12-23 10:42:03 [http-nio-8088-exec-10] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 28 for processing
2025-12-23 10:42:03 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 28 for processing
2025-12-23 10:42:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 28 with command /status
2025-12-23 10:42:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6841)
2025-12-23 10:42:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 28
2025-12-23 10:42:40 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 29 for processing
2025-12-23 10:42:40 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 29 for processing
2025-12-23 10:42:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 29 with command /start
2025-12-23 10:42:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 49
2025-12-23 10:42:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 29
2025-12-23 10:42:43 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 30 for processing
2025-12-23 10:42:43 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 30 for processing
2025-12-23 10:42:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 30 with command null
2025-12-23 10:42:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 30
2025-12-23 10:42:48 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 31 for processing
2025-12-23 10:42:48 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 31 for processing
2025-12-23 10:42:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 31 with command /register
2025-12-23 10:42:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 52)
2025-12-23 10:42:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 31
2025-12-23 10:44:40 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-12-23 10:44:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:41 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:44:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 5 requests)
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 11 requests)
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:44:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:44:41 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:44:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 10:44:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 10:44:42 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:44:42 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:44:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:44:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 11 JPA repository interfaces.
2025-12-23 10:44:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:44:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:44:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:44:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:44:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1111 ms
2025-12-23 10:44:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:44:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:44:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 10:44:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5aeb4f07
2025-12-23 10:44:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 10:44:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:44:43 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:44:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:44:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:44:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:44:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:44:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:44:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:44:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:44:45 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:44:48 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:44:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:44:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:44:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:44:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:44:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:44:50 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:44:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:44:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:44:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:44:52 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:44:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:44:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:44:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1d1e00a8:0/SimpleConnection@289a56ff [delegate=amqp://admin@127.0.0.1:5672/, localPort=56009]
2025-12-23 10:44:52 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 10.565 seconds (process running for 279.993)
2025-12-23 10:44:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 10:44:54 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:44:54 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:44:54 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:44:54 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:44:54 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:44:54 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 10:44:54 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 10:44:55 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:44:55 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:44:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:44:55 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 11 JPA repository interfaces.
2025-12-23 10:44:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:44:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:44:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:44:56 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:44:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 855 ms
2025-12-23 10:44:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:44:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:44:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 10:44:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@fe47e37
2025-12-23 10:44:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 10:44:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:44:56 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:44:56 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:44:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:44:57 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:44:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:44:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:44:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:44:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:44:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:44:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:44:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:44:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:44:59 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:44:59 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:45:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:45:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:45:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:45:01 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:45:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:45:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:45:02 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:45:02 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:45:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:45:02 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:45:02 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3e71347d:0/SimpleConnection@2e5e7c04 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56022]
2025-12-23 10:45:02 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.864 seconds (process running for 290.147)
2025-12-23 10:45:02 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 10:45:15 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 6 class path changes (0 additions, 6 deletions, 0 modifications)
2025-12-23 10:45:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:45:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:45:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:45:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:45:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:45:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:45:16 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:45:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:45:16 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:45:16 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:45:16 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 10:45:16 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 10:45:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:45:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:45:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:45:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 336 ms. Found 11 JPA repository interfaces.
2025-12-23 10:45:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:45:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:45:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:45:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:45:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3363 ms
2025-12-23 10:45:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:45:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:45:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 10:45:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@4252127c
2025-12-23 10:45:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 10:45:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:45:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:45:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:45:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:45:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:45:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:45:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:45:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:45:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:45:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:45:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:45:23 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:45:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:45:24 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:45:24 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:45:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:45:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:45:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:45:26 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:45:26 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:45:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:45:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:45:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 10:45:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 10:45:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 10:45:26 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:45:27 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-23 10:45:28 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:45:28 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:45:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:45:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 11 JPA repository interfaces.
2025-12-23 10:45:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:45:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:45:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:45:29 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:45:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 591 ms
2025-12-23 10:45:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:45:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:45:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 10:45:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@1faeaca1
2025-12-23 10:45:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 10:45:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:45:29 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:45:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:45:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:45:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:45:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:45:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:45:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:45:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:45:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:45:32 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:45:32 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:45:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:45:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:45:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:45:34 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:45:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:45:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 10:45:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 10:45:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 10:45:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 10:45:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 10:45:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2b7ea88d:0/SimpleConnection@bef66b8 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56042]
2025-12-23 10:45:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.058 seconds (process running for 322.692)
2025-12-23 10:45:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 10:46:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 6 class path changes (0 additions, 6 deletions, 0 modifications)
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 10:46:27 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 10:46:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:46:27 [Thread-15] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:46:27 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:46:27 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 10:46:27 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 10:46:28 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:46:28 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:46:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:46:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 11 JPA repository interfaces.
2025-12-23 10:46:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:46:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:46:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:46:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:46:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1532 ms
2025-12-23 10:46:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:46:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:46:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-12-23 10:46:31 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@2536a214
2025-12-23 10:46:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-12-23 10:46:31 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:46:31 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:46:31 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:46:32 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:46:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:46:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:46:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:46:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:46:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:46:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:46:35 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:46:35 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:46:37 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:46:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:46:38 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:46:38 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:46:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:46:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-12-23 10:46:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-12-23 10:46:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 10:46:38 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:46:38 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-23 10:49:53 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 44799 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 10:49:53 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 10:49:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 10:49:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 486 ms. Found 11 JPA repository interfaces.
2025-12-23 10:50:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 10:50:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 10:50:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 10:50:00 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 10:50:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7397 ms
2025-12-23 10:50:01 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 10:50:01 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 10:50:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-12-23 10:50:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@7034d5da
2025-12-23 10:50:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-12-23 10:50:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 10:50:02 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 10:50:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 10:50:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 10:50:03 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:50:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 10:50:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 10:50:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 10:50:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:50:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:50:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:50:06 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:50:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 10:50:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 10:50:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 10:50:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:50:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 10:50:08 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 10:50:08 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 10:50:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 10:50:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 10:50:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-12-23 10:50:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-12-23 10:50:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 10:50:08 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 10:50:08 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.bronx.telegram.notification.consumer.WebhookConsumer required a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' in your configuration.

2025-12-23 11:39:15 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 60285 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 11:39:15 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 11:39:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 11:39:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 11:39:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 11:39:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 11 JPA repository interfaces.
2025-12-23 11:39:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 11:39:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 11:39:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 11:39:18 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 11:39:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2995 ms
2025-12-23 11:39:19 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 11:39:19 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 11:39:19 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 11:39:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 11:39:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2da617a8
2025-12-23 11:39:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 11:39:20 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 11:39:20 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 11:39:20 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 11:39:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 11:39:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:39:23 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 11:39:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 11:39:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 11:39:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 11:39:24 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:39:24 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:39:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:39:27 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:39:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:39:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 11:39:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 11:39:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:39:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:39:29 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 11:39:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 11:39:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 11:39:32 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 11:39:32 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 11:39:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 11:39:32 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 11:39:33 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4179bb30:0/SimpleConnection@7602b907 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56216]
2025-12-23 11:39:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.302 seconds (process running for 19.897)
2025-12-23 11:39:33 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 11:39:33 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 11:39:33 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-23 11:41:19 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 32 for processing
2025-12-23 11:41:19 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 32 for processing
2025-12-23 11:41:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 32 with command null
2025-12-23 11:41:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 32
2025-12-23 11:41:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 33 for processing
2025-12-23 11:41:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 33 for processing
2025-12-23 11:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 33 with command null
2025-12-23 11:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 33
2025-12-23 11:41:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 34 for processing
2025-12-23 11:41:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 34 for processing
2025-12-23 11:41:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 34 with command /start
2025-12-23 11:41:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6845
2025-12-23 11:41:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 34
2025-12-23 11:41:47 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 35 for processing
2025-12-23 11:41:47 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 35 for processing
2025-12-23 11:41:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 35 with command /register
2025-12-23 11:41:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6847)
2025-12-23 11:41:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 35
2025-12-23 11:41:58 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 36 for processing
2025-12-23 11:41:58 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 36 for processing
2025-12-23 11:41:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 36 with command null
2025-12-23 11:41:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 36
2025-12-23 11:44:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 11:44:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:47 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 11:44:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 5 requests)
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:44:47 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:44:47 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:44:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 11:44:47 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 11:44:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 60285 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 11:44:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 11:44:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 11:44:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 11 JPA repository interfaces.
2025-12-23 11:44:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 11:44:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 11:44:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 11:44:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 11:44:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1246 ms
2025-12-23 11:44:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 11:44:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 11:44:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 11:44:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6c312e3f
2025-12-23 11:44:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 11:44:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 11:44:49 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 11:44:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 11:44:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 11:44:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:44:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 11:44:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 11:44:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 11:44:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:44:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:44:52 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:44:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:44:54 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 11:44:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 11:44:55 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 11:44:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 11:44:55 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 11:44:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 11:44:55 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 11:44:55 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#567dd4da:0/SimpleConnection@2253bbeb [delegate=amqp://admin@127.0.0.1:5672/, localPort=56249]
2025-12-23 11:44:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 8.371 seconds (process running for 342.783)
2025-12-23 11:44:56 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 11:44:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (4 additions, 0 deletions, 0 modifications)
2025-12-23 11:44:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:44:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:44:58 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 11:44:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:44:58 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:44:58 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:44:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 11:44:58 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 11:44:58 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 60285 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 11:44:58 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 11:44:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 11:44:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 11 JPA repository interfaces.
2025-12-23 11:44:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 11:44:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 11:44:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 11:44:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 11:44:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 612 ms
2025-12-23 11:44:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 11:44:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 11:44:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 11:44:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@10d1c669
2025-12-23 11:44:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 11:44:59 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 11:44:59 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 11:44:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 11:44:59 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 11:44:59 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:45:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 11:45:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 11:45:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 11:45:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:45:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:45:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:45:02 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:45:02 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:45:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:45:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:45:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:45:04 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:45:04 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 11:45:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 11:45:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 11:45:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 11:45:04 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 11:45:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 11:45:04 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 11:45:04 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5cd0359d:0/SimpleConnection@53b5b6eb [delegate=amqp://admin@127.0.0.1:5672/, localPort=56261]
2025-12-23 11:45:04 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 6.697 seconds (process running for 351.599)
2025-12-23 11:45:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 11:49:32 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 11:49:32 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 11:49:32 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 14 ms
2025-12-23 11:49:33 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 37 for processing
2025-12-23 11:49:33 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 37 for processing
2025-12-23 11:49:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 37 with command /start
2025-12-23 11:49:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 11:49:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6850)
2025-12-23 11:49:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 37
2025-12-23 11:50:48 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 38 for processing
2025-12-23 11:50:48 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 38 for processing
2025-12-23 11:50:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 38 with command null
2025-12-23 11:50:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 38
2025-12-23 11:51:07 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 39 for processing
2025-12-23 11:51:07 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 39 for processing
2025-12-23 11:51:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 39 with command /start
2025-12-23 11:51:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 11:51:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6853)
2025-12-23 11:51:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 39
2025-12-23 11:52:50 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 40 for processing
2025-12-23 11:52:50 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 40 for processing
2025-12-23 11:52:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 40 with command /cancel
2025-12-23 11:52:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6855)
2025-12-23 11:52:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6856
2025-12-23 11:52:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 40
2025-12-23 11:53:28 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 41 for processing
2025-12-23 11:53:28 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 41 for processing
2025-12-23 11:53:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 41 with command /register
2025-12-23 11:53:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6858)
2025-12-23 11:53:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 41
2025-12-23 11:54:38 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 42 for processing
2025-12-23 11:54:38 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 42 for processing
2025-12-23 11:54:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 42 with command null
2025-12-23 11:54:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 42
2025-12-23 11:57:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:57:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:57:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 11:57:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:57:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:57:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 11:57:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 8 requests)
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 11:57:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 11:57:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 11:57:17 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 11:57:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 11:57:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 11:57:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 11:57:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 106 ms. Found 11 JPA repository interfaces.
2025-12-23 11:57:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 11:57:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 11:57:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 11:57:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 11:57:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2800 ms
2025-12-23 11:57:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 11:57:20 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 11:57:20 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 11:57:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 11:57:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3491fe89
2025-12-23 11:57:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 11:57:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 11:57:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 11:57:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 11:57:24 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 11:57:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 11:57:25 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 11:57:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 11:57:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 11:57:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 11:57:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:57:26 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 11:57:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 11:57:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 11:57:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:57:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:57:29 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:57:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 11:57:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 11:57:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 11:57:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:57:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 11:57:31 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 11:57:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 11:57:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 11:57:34 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 11:57:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 11:57:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 11:57:34 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 11:57:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#57ec8c02:0/SimpleConnection@6a048ac8 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56307]
2025-12-23 11:57:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.88 seconds (process running for 21.195)
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580908: {"update_id":631580908,"message":{"message_id":6860,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766465869,"text":"/cancel","entities":[{"offset":0,"length":7,"type":"bot_command"}]}}
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 43 for processing
2025-12-23 11:57:50 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 43 for processing
2025-12-23 11:57:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 43 with command /cancel
2025-12-23 11:57:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6861)
2025-12-23 11:57:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6862
2025-12-23 11:57:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 43
2025-12-23 12:01:21 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 12:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 12:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 12:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 12:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 12:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 12:01:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 12:01:22 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 12:01:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 5 requests)
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 12:01:22 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 12:01:22 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 12:01:22 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 12:01:22 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 12:01:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 12:01:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 12:01:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 12:01:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 11 JPA repository interfaces.
2025-12-23 12:01:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 12:01:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 12:01:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 12:01:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 12:01:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2184 ms
2025-12-23 12:01:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 12:01:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 12:01:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 12:01:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@c690082
2025-12-23 12:01:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 12:01:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 12:01:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 12:01:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 12:01:27 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 12:01:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 12:01:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 12:01:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 12:01:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 12:01:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 12:01:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 12:01:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 12:01:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 12:01:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 12:01:30 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 12:01:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 12:01:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 12:01:32 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 12:01:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 12:01:33 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'telegramWebhookController' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/controller/TelegramWebhookController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 12:01:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 12:01:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 12:01:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 12:01:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 12:01:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 12:01:33 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 12:01:34 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.controller.TelegramWebhookController required a bean of type 'com.bronx.telegram.notification.service.WebhookService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookService' in your configuration.

2025-12-23 12:01:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 12:01:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 12:01:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 12:01:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 11 JPA repository interfaces.
2025-12-23 12:01:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 12:01:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 12:01:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 12:01:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 12:01:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 854 ms
2025-12-23 12:01:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 12:01:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 12:01:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 12:01:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@13372c0c
2025-12-23 12:01:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 12:01:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 12:01:36 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 12:01:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 12:01:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 12:01:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 12:01:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 12:01:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 12:01:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 12:01:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 12:01:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 12:01:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 12:01:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 12:01:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 12:01:39 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 12:01:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 12:01:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 12:01:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 12:01:41 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 12:01:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 12:01:41 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 12:01:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 12:01:42 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 12:01:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 12:01:42 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 12:01:42 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6632a55f:0/SimpleConnection@229141e3 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56339]
2025-12-23 12:01:42 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.181 seconds (process running for 268.577)
2025-12-23 12:01:42 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580909: {"update_id":631580909,"message":{"message_id":6863,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766466109,"text":"menglang@gmail.com","entities":[{"offset":0,"length":18,"type":"email"}]}}
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 44 for processing
2025-12-23 12:01:49 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 44 for processing
2025-12-23 12:01:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 44 with command null
2025-12-23 12:01:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 44
2025-12-23 12:02:24 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580910: {"update_id":631580910,"message":{"message_id":6864,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766466144,"text":"üìù Register"}}
2025-12-23 12:02:24 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 45 for processing
2025-12-23 12:02:24 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 45 for processing
2025-12-23 12:02:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 45 with command null
2025-12-23 12:02:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 45
2025-12-23 12:02:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580911: {"update_id":631580911,"message":{"message_id":6865,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766466152,"text":"üìä Status"}}
2025-12-23 12:02:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 46 for processing
2025-12-23 12:02:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 46 for processing
2025-12-23 12:02:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 46 with command null
2025-12-23 12:02:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 46
2025-12-23 12:13:36 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Retrograde clock change detected (housekeeper delta=29s839ms), soft-evicting connections from pool.
2025-12-23 12:18:55 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m18s446ms).
2025-12-23 12:24:50 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m25s173ms).
2025-12-23 12:30:47 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m27s263ms).
2025-12-23 12:36:10 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m23s391ms).
2025-12-23 12:36:40 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Retrograde clock change detected (housekeeper delta=29s833ms), soft-evicting connections from pool.
2025-12-23 12:42:33 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m22s446ms).
2025-12-23 12:48:28 [HikariPool-3:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=5m25s263ms).
2025-12-23 13:01:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:01:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:01:37 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:01:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:01:37 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:01:37 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:01:37 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 13:01:37 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 13:01:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:01:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:01:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:01:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 239 ms. Found 11 JPA repository interfaces.
2025-12-23 13:01:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:01:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:01:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:01:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:01:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5392 ms
2025-12-23 13:01:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:01:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:01:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 13:01:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@34cb0239
2025-12-23 13:01:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 13:01:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:01:45 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:01:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:01:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:01:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:01:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:01:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:01:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:01:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:01:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:01:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:01:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:01:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:01:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:01:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:01:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:01:55 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:01:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:01:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:01:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:01:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:01:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:01:57 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:01:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:01:59 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:01:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:01:59 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:02:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:02:00 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:02:00 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6b18a4f6:0/SimpleConnection@2bb733b9 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56591]
2025-12-23 13:02:00 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 21.306 seconds (process running for 2124.348)
2025-12-23 13:02:00 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:06:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 13:06:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:06:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:06:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:06:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:06:11 [Thread-14] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:06:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:06:11 [Thread-14] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:06:11 [Thread-14] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:06:11 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 13:06:11 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 13:06:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:06:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:06:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:06:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 300 ms. Found 11 JPA repository interfaces.
2025-12-23 13:06:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:06:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:06:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:06:17 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:06:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4715 ms
2025-12-23 13:06:17 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:06:17 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:06:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 13:06:18 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@7eaf37c6
2025-12-23 13:06:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 13:06:18 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:06:18 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:06:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:06:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:06:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:06:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:06:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:06:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:06:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:06:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:06:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:06:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:06:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:06:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:06:36 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:06:36 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:06:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:06:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:06:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:06:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:06:39 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:06:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:06:41 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:06:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:06:43 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:06:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:06:43 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:06:43 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4e408bc7:0/SimpleConnection@20a2b987 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56621]
2025-12-23 13:06:43 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 31.228 seconds (process running for 2407.936)
2025-12-23 13:06:43 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:09:11 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 13:09:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:09:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:09:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:09:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:09:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:09:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:09:12 [Thread-18] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:09:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:09:12 [Thread-18] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:09:12 [Thread-18] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:09:12 [Thread-18] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 13:09:12 [Thread-18] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 13:09:13 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:09:13 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:09:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:09:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 11 JPA repository interfaces.
2025-12-23 13:09:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:09:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:09:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:09:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:09:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2043 ms
2025-12-23 13:09:18 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:09:18 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:09:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-12-23 13:09:18 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@2dc7ff05
2025-12-23 13:09:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-12-23 13:09:18 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:09:18 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:09:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:09:20 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:09:21 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:09:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:09:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:09:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:09:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:09:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:09:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:09:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:09:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:09:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:09:25 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:09:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:09:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:09:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:09:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:09:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:09:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:09:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:09:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:09:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:09:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:09:28 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:09:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:09:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:09:30 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:09:30 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:09:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:09:30 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:09:31 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4d02fa0a:0/SimpleConnection@603219e2 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56653]
2025-12-23 13:09:31 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 17.613 seconds (process running for 2575.307)
2025-12-23 13:09:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:11:40 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:11:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:11:41 [Thread-22] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:11:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:11:41 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:11:41 [Thread-22] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:11:41 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-12-23 13:11:41 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-12-23 13:11:44 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:11:44 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:11:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:11:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 11 JPA repository interfaces.
2025-12-23 13:11:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:11:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:11:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:11:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:11:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2299 ms
2025-12-23 13:11:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:11:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:11:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-12-23 13:11:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@10b1e1d1
2025-12-23 13:11:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-12-23 13:11:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:11:47 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:11:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:11:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:11:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:11:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:11:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:11:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:11:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:11:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:11:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:11:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:11:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:11:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:11:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:11:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:11:52 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:11:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:11:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:11:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:11:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:11:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:11:54 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:11:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:11:56 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:11:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:11:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:11:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:11:56 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:11:56 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5ca0fd50:0/SimpleConnection@12d2db3c [delegate=amqp://admin@127.0.0.1:5672/, localPort=56680]
2025-12-23 13:11:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 12.697 seconds (process running for 2721.054)
2025-12-23 13:11:56 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:12:34 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:12:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:12:35 [Thread-26] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:12:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:12:35 [Thread-26] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:12:35 [Thread-26] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:12:35 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-12-23 13:12:35 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-12-23 13:12:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:12:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:12:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:12:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 552 ms. Found 11 JPA repository interfaces.
2025-12-23 13:12:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:12:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:12:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:12:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:12:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7525 ms
2025-12-23 13:12:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:12:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:12:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-12-23 13:12:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@182c85ec
2025-12-23 13:12:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-12-23 13:12:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:12:45 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:12:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:12:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:12:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:12:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:12:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:12:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:12:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:12:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:12:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:12:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:12:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:12:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:12:52 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:12:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:12:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:12:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:12:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:12:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:12:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:12:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:12:55 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:12:55 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'telegramWebhookController' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/controller/TelegramWebhookController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:12:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:12:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:12:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-12-23 13:12:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-12-23 13:12:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 13:12:55 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:12:55 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.controller.TelegramWebhookController required a bean of type 'com.bronx.telegram.notification.service.WebhookService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookService' in your configuration.

2025-12-23 13:13:26 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:13:26 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:13:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:13:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1126 ms. Found 11 JPA repository interfaces.
2025-12-23 13:13:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:13:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:13:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:13:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:13:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 11246 ms
2025-12-23 13:13:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:13:39 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:13:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-12-23 13:13:40 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection org.postgresql.jdbc.PgConnection@2522562a
2025-12-23 13:13:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-12-23 13:13:40 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:13:40 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:13:40 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:13:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:13:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:13:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:13:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:13:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:13:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:13:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:13:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:13:48 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:13:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:13:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:13:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:13:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:13:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:13:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:13:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:13:51 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:13:52 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'telegramWebhookController' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/controller/TelegramWebhookController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:13:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:13:52 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:13:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-12-23 13:13:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-12-23 13:13:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 13:13:52 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:13:52 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.controller.TelegramWebhookController required a bean of type 'com.bronx.telegram.notification.service.WebhookService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookService' in your configuration.

2025-12-23 13:17:07 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:17:07 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:17:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 13:17:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 13:17:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:17:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 11 JPA repository interfaces.
2025-12-23 13:17:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:17:11 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:17:11 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:17:11 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:17:11 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3970 ms
2025-12-23 13:17:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:17:12 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 13:17:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:17:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 13:17:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@563b8586
2025-12-23 13:17:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 13:17:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:17:12 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:17:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:17:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:17:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:17:16 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 13:17:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:17:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:17:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:17:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:17:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:17:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:17:20 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:17:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:17:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:17:21 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:17:21 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:17:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:17:23 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:17:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:17:23 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:17:24 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:17:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:17:26 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:17:26 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 13:17:26 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:17:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:17:26 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:17:27 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6415ec79:0/SimpleConnection@d507d9a [delegate=amqp://admin@127.0.0.1:5672/, localPort=56757]
2025-12-23 13:17:27 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 20.42 seconds (process running for 22.174)
2025-12-23 13:17:27 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 13:17:27 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 13:17:27 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-23 13:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580912: {"update_id":631580912,"message":{"message_id":6866,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470678,"text":"/cancel","entities":[{"offset":0,"length":7,"type":"bot_command"}]}}
2025-12-23 13:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 47 for processing
2025-12-23 13:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 47 for processing
2025-12-23 13:17:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 47 with command /cancel
2025-12-23 13:17:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6867)
2025-12-23 13:17:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 47
2025-12-23 13:18:14 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580913: {"update_id":631580913,"message":{"message_id":6868,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470694,"text":"üìù Register"}}
2025-12-23 13:18:14 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 48 for processing
2025-12-23 13:18:14 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 48 for processing
2025-12-23 13:18:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 48 with command üìù Register
2025-12-23 13:18:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6869)
2025-12-23 13:18:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 48
2025-12-23 13:18:49 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580914: {"update_id":631580914,"message":{"message_id":6870,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470729,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 13:18:49 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 49 for processing
2025-12-23 13:18:49 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 49 for processing
2025-12-23 13:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 49 with command smith.developer@acme.com
2025-12-23 13:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 13:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6871)
2025-12-23 13:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 49
2025-12-23 13:19:07 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580915: {"update_id":631580915,"message":{"message_id":6872,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470747,"text":"EMP-002"}}
2025-12-23 13:19:07 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 50 for processing
2025-12-23 13:19:07 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 50 for processing
2025-12-23 13:19:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 50 with command EMP-002
2025-12-23 13:19:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 13:19:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6873)
2025-12-23 13:19:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 50
2025-12-23 13:19:15 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580916: {"update_id":631580916,"message":{"message_id":6874,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470755,"text":"098 88 77 99"}}
2025-12-23 13:19:15 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 51 for processing
2025-12-23 13:19:15 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 51 for processing
2025-12-23 13:19:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 51 with command 098 88 77 99
2025-12-23 13:19:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 13:19:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com, TelegramID: EMP-002, ChatID: 630296946
2025-12-23 13:19:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] WARN  c.b.t.n.s.i.EmployeeRegistrationService - ‚ö†Ô∏è Employee smith.developer@acme.com already registered with different Telegram account
2025-12-23 13:19:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6875)
2025-12-23 13:19:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6876
2025-12-23 13:19:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 51
2025-12-23 13:19:31 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580917: {"update_id":631580917,"message":{"message_id":6877,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470770,"text":"üìä Status"}}
2025-12-23 13:19:31 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 52 for processing
2025-12-23 13:19:31 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 52 for processing
2025-12-23 13:19:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 52 with command üìä Status
2025-12-23 13:19:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 13:19:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6878)
2025-12-23 13:19:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 52
2025-12-23 13:19:40 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580918: {"update_id":631580918,"message":{"message_id":6879,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766470780,"text":"‚ùì Help"}}
2025-12-23 13:19:40 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 53 for processing
2025-12-23 13:19:40 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 53 for processing
2025-12-23 13:19:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 53 with command ‚ùì Help
2025-12-23 13:19:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6880)
2025-12-23 13:19:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 53
2025-12-23 13:21:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 12 class path changes (0 additions, 12 deletions, 0 modifications)
2025-12-23 13:21:10 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:21:10 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:21:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:21:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:21:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:21:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:21:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:21:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:21:11 [Thread-1] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:21:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 11 requests)
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:11 [Thread-1] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:11 [Thread-1] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:11 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 13:21:11 [Thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 13:21:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:21:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:21:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:21:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 11 JPA repository interfaces.
2025-12-23 13:21:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:21:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 666 ms. Found 11 JPA repository interfaces.
2025-12-23 13:21:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:21:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:21:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:21:14 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:21:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4765 ms
2025-12-23 13:21:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:21:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:21:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:21:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:21:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3207 ms
2025-12-23 13:21:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:21:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection org.postgresql.jdbc.PgConnection@27001cda
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-12-23 13:21:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:21:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:21:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:21:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:21:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4dac0e22
2025-12-23 13:21:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 13:21:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:21:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:21:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:21:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:21:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:21:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:17 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:21:19 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:21:19 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - ‚ùå Failed to set webhook: Too Many Requests: retry after 1
2025-12-23 13:21:19 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - üìÑ Full error response: {"ok":false,"error_code":429,"description":"Too Many Requests: retry after 1","parameters":{"retry_after":1}}
2025-12-23 13:21:19 [restartedMain] ERROR c.b.t.n.s.i.TelegramBotServiceImpl - ‚ùå Failed to set webhook for bot private_health_care_bot
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:20 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:21 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:21 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:21 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - ‚ùå Failed to set webhook: Too Many Requests: retry after 1
2025-12-23 13:21:21 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - üìÑ Full error response: {"ok":false,"error_code":429,"description":"Too Many Requests: retry after 1","parameters":{"retry_after":1}}
2025-12-23 13:21:21 [restartedMain] ERROR c.b.t.n.s.i.TelegramBotServiceImpl - ‚ùå Failed to set webhook for bot menglang6969Bot
2025-12-23 13:21:21 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:21:22 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 2 requests)
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-12-23 13:21:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-12-23 13:21:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 13:21:22 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:21:22 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.bronx.telegram.notification.consumer.WebhookConsumer required a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' in your configuration.

2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:21:22 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:21:22 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 2 requests)
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:21:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:21:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 13:21:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 13:21:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 13:21:22 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:21:22 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.bronx.telegram.notification.consumer.WebhookConsumer required a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.WebhookCommandService' in your configuration.

2025-12-23 13:21:24 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:21:24 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:21:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:21:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 11 JPA repository interfaces.
2025-12-23 13:21:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:21:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:21:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:21:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:21:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 582 ms
2025-12-23 13:21:24 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:21:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:21:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 13:21:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@33d952b4
2025-12-23 13:21:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 13:21:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:21:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:21:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:21:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:21:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:21:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:21:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:21:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:21:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:21:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:21:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:21:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:21:27 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:21:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:21:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:21:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:21:29 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:21:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:21:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:21:30 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 13:21:30 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:21:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:21:30 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:21:30 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#35353e5:0/SimpleConnection@4a9f0bce [delegate=amqp://admin@127.0.0.1:5672/, localPort=56797]
2025-12-23 13:21:30 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 6.688 seconds (process running for 265.905)
2025-12-23 13:21:30 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:26:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:26:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:26:29 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:26:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:26:29 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:26:29 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:26:29 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 13:26:29 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 13:26:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 64920 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:26:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:26:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:26:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:26:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:26:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:26:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 248 ms. Found 11 JPA repository interfaces.
2025-12-23 13:26:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 306 ms. Found 11 JPA repository interfaces.
2025-12-23 13:26:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:26:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:26:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:26:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat-4].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:26:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3375 ms
2025-12-23 13:26:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:26:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:26:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:26:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:26:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3031 ms
2025-12-23 13:26:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:26:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection org.postgresql.jdbc.PgConnection@1ff523c0
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-12-23 13:26:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:26:36 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:26:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:26:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:26:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@497aff23
2025-12-23 13:26:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 13:26:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:26:36 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:26:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:26:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:26:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:26:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:26:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:26:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:26:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:26:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:26:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:26:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:26:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:26:41 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:26:41 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - ‚ùå Failed to set webhook: Too Many Requests: retry after 1
2025-12-23 13:26:41 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - üìÑ Full error response: {"ok":false,"error_code":429,"description":"Too Many Requests: retry after 1","parameters":{"retry_after":1}}
2025-12-23 13:26:41 [restartedMain] ERROR c.b.t.n.s.i.TelegramBotServiceImpl - ‚ùå Failed to set webhook for bot menglang6969Bot
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:26:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:26:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:26:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:26:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:26:44 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - ‚ùå Failed to set webhook: Too Many Requests: retry after 1
2025-12-23 13:26:44 [restartedMain] ERROR c.b.t.n.s.impl.TelegramBotClient - üìÑ Full error response: {"ok":false,"error_code":429,"description":"Too Many Requests: retry after 1","parameters":{"retry_after":1}}
2025-12-23 13:26:44 [restartedMain] ERROR c.b.t.n.s.i.TelegramBotServiceImpl - ‚ùå Failed to set webhook for bot private_health_care_bot
2025-12-23 13:26:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:26:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:26:45 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:26:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:26:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:26:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:26:47 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 13:26:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:26:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:26:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:26:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#a1ca539:0/SimpleConnection@1cd79988 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56851]
2025-12-23 13:26:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:26:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 14.738 seconds (process running for 582.787)
2025-12-23 13:26:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:26:47 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:26:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:26:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:26:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-12-23 13:26:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-12-23 13:26:48 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:26:48 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8088 was already in use.

Action:

Identify and stop the process that's listening on port 8088 or configure this application to listen on another port.

2025-12-23 13:28:03 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 13:28:03 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 13:28:03 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 42 ms
2025-12-23 13:28:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580919: {"update_id":631580919,"message":{"message_id":6881,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471283,"text":"/register","entities":[{"offset":0,"length":9,"type":"bot_command"}]}}
2025-12-23 13:28:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 54 for processing
2025-12-23 13:28:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 54 for processing
2025-12-23 13:28:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 54 with command /register
2025-12-23 13:28:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6882)
2025-12-23 13:28:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 54
2025-12-23 13:28:23 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580920: {"update_id":631580920,"message":{"message_id":6883,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471303,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 13:28:23 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 55 for processing
2025-12-23 13:28:23 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 55 for processing
2025-12-23 13:28:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 55 with command smith.developer@acme.com
2025-12-23 13:28:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 13:28:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6884)
2025-12-23 13:28:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 55
2025-12-23 13:28:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580921: {"update_id":631580921,"message":{"message_id":6885,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471312,"text":"EMP-002"}}
2025-12-23 13:28:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 56 for processing
2025-12-23 13:28:32 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 56 for processing
2025-12-23 13:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 56 with command EMP-002
2025-12-23 13:28:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 13:28:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6886)
2025-12-23 13:28:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 56
2025-12-23 13:28:38 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580922: {"update_id":631580922,"message":{"message_id":6887,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471318,"text":"099 88 99 88"}}
2025-12-23 13:28:38 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 57 for processing
2025-12-23 13:28:38 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 57 for processing
2025-12-23 13:28:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 57 with command 099 88 99 88
2025-12-23 13:28:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 13:28:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com, TelegramID: EMP-002, ChatID: 630296946
2025-12-23 13:28:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] WARN  c.b.t.n.s.i.EmployeeRegistrationService - ‚ö†Ô∏è Employee smith.developer@acme.com already registered with different Telegram account
2025-12-23 13:28:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6888)
2025-12-23 13:28:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6889
2025-12-23 13:28:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 57
2025-12-23 13:28:43 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580923: {"update_id":631580923,"message":{"message_id":6890,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471323,"text":"Status"}}
2025-12-23 13:28:43 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 58 for processing
2025-12-23 13:28:43 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 58 for processing
2025-12-23 13:28:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 58 with command Status
2025-12-23 13:28:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 13:28:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6891)
2025-12-23 13:28:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 58
2025-12-23 13:31:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-12-23 13:31:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:31:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:31:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:31:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:31:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:31:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:31:10 [Thread-12] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:31:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 2 requests)
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 8 requests)
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:31:10 [Thread-12] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:31:10 [Thread-12] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:31:10 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 13:31:10 [Thread-12] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 13:31:11 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:31:11 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:31:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:31:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 11 JPA repository interfaces.
2025-12-23 13:31:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:31:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:31:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:31:13 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:31:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1692 ms
2025-12-23 13:31:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:31:13 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:31:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-23 13:31:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@53258de7
2025-12-23 13:31:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-23 13:31:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:31:13 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:31:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:31:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:31:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:31:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:31:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:31:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:31:14 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:31:14 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:31:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:31:16 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:31:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:31:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:31:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:31:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:31:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:31:18 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:31:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:31:18 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:31:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:31:19 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:31:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:31:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:31:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7aca8734:0/SimpleConnection@4a7cef9 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56903]
2025-12-23 13:31:19 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.861 seconds (process running for 854.356)
2025-12-23 13:31:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 21 ms
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580924: {"update_id":631580924,"message":{"message_id":6892,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471498,"text":"/register","entities":[{"offset":0,"length":9,"type":"bot_command"}]}}
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 59 for processing
2025-12-23 13:31:39 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 59 for processing
2025-12-23 13:31:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 59 with command /register
2025-12-23 13:31:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6893)
2025-12-23 13:31:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 59
2025-12-23 13:32:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580925: {"update_id":631580925,"message":{"message_id":6894,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471520,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 13:32:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 60 for processing
2025-12-23 13:32:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 60 for processing
2025-12-23 13:32:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 60 with command smith.developer@acme.com
2025-12-23 13:32:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 13:32:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6895)
2025-12-23 13:32:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 60
2025-12-23 13:32:07 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580926: {"update_id":631580926,"message":{"message_id":6896,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471527,"text":"EMP-002"}}
2025-12-23 13:32:07 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 61 for processing
2025-12-23 13:32:07 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 61 for processing
2025-12-23 13:32:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 61 with command EMP-002
2025-12-23 13:32:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 13:32:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6897)
2025-12-23 13:32:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 61
2025-12-23 13:32:13 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580927: {"update_id":631580927,"message":{"message_id":6898,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471533,"text":"099 88 88 88"}}
2025-12-23 13:32:13 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 62 for processing
2025-12-23 13:32:13 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 62 for processing
2025-12-23 13:32:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 62 with command 099 88 88 88
2025-12-23 13:32:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 13:32:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com, TelegramID: EMP-002, ChatID: 630296946
2025-12-23 13:32:13 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.EmployeeRegistrationService - ‚ÑπÔ∏è Employee smith.developer@acme.com already registered
2025-12-23 13:32:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6899)
2025-12-23 13:32:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6900
2025-12-23 13:32:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 62
2025-12-23 13:33:20 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580928: {"update_id":631580928,"message":{"message_id":6901,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471599,"text":"üìù Register"}}
2025-12-23 13:33:20 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 63 for processing
2025-12-23 13:33:20 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 63 for processing
2025-12-23 13:33:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 63 with command üìù Register
2025-12-23 13:33:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6902)
2025-12-23 13:33:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 63
2025-12-23 13:33:24 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580929: {"update_id":631580929,"message":{"message_id":6903,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471604,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 13:33:24 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 64 for processing
2025-12-23 13:33:24 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 64 for processing
2025-12-23 13:33:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 64 with command smith.developer@acme.com
2025-12-23 13:33:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 13:33:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6904)
2025-12-23 13:33:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 64
2025-12-23 13:33:31 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580930: {"update_id":631580930,"message":{"message_id":6905,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471610,"text":"EMP-002"}}
2025-12-23 13:33:31 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 65 for processing
2025-12-23 13:33:31 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 65 for processing
2025-12-23 13:33:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 65 with command EMP-002
2025-12-23 13:33:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 13:33:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6906)
2025-12-23 13:33:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 65
2025-12-23 13:33:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580931: {"update_id":631580931,"message":{"message_id":6907,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471614,"text":"099 88 88 88"}}
2025-12-23 13:33:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 66 for processing
2025-12-23 13:33:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 66 for processing
2025-12-23 13:33:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 66 with command 099 88 88 88
2025-12-23 13:33:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 13:33:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com, TelegramID: EMP-002, ChatID: 630296946
2025-12-23 13:33:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.EmployeeRegistrationService - ‚úÖ Successfully registered employee Smith Developer (EMP-002) with Telegram
2025-12-23 13:33:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] ERROR c.b.t.n.s.i.EmployeeRegistrationService - ‚ùå Failed to send welcome message: Could not initialize proxy [com.bronx.telegram.notification.model.entity.OrganizationUnit#4] - no session
org.hibernate.LazyInitializationException: Could not initialize proxy [com.bronx.telegram.notification.model.entity.OrganizationUnit#4] - no session
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:328) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:44) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:102) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at com.bronx.telegram.notification.model.entity.OrganizationUnit$HibernateProxy.getUnitName(Unknown Source) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.EmployeeRegistrationService.sendWelcomeMessage(EmployeeRegistrationService.java:190) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.EmployeeRegistrationService.registerEmployee(EmployeeRegistrationService.java:92) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.bronx.telegram.notification.service.impl.EmployeeRegistrationService$$SpringCGLIB$$0.registerEmployee(<generated>) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.UserBotStateServiceImpl.completeRegistration(UserBotStateServiceImpl.java:80) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.completeRegistration(RegistrationFlowHandler.java:113) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleContactInput(RegistrationFlowHandler.java:105) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleRegistrationFlow(RegistrationFlowHandler.java:58) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:44) ~[main/:na]
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source) ~[na:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]
2025-12-23 13:33:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6908)
2025-12-23 13:33:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6909
2025-12-23 13:33:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 66
2025-12-23 13:34:59 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-12-23 13:34:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:34:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:34:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:35:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:35:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:35:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:35:00 [Thread-20] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:35:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 13 requests)
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:35:00 [Thread-20] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:35:00 [Thread-20] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:35:00 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-12-23 13:35:00 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-12-23 13:35:01 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:35:01 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:35:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:35:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 196 ms. Found 11 JPA repository interfaces.
2025-12-23 13:35:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:35:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:35:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:35:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:35:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1851 ms
2025-12-23 13:35:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:35:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:35:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-12-23 13:35:03 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@2f7155d9
2025-12-23 13:35:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-12-23 13:35:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:35:03 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:35:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:35:03 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:35:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:35:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:35:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:35:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:35:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:35:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:35:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:35:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:35:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:35:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:35:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:35:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:35:07 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:35:07 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:35:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:35:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:35:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:35:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:35:09 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:35:09 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:35:11 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 13:35:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 13:35:11 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 13:35:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 13:35:11 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 13:35:11 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#a250d8:0/SimpleConnection@68316821 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56931]
2025-12-23 13:35:11 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 10.765 seconds (process running for 1086.799)
2025-12-23 13:35:11 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 16 ms
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580932: {"update_id":631580932,"message":{"message_id":6910,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766471718,"text":"Status"}}
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 67 for processing
2025-12-23 13:35:18 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 67 for processing
2025-12-23 13:35:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 67 with command Status
2025-12-23 13:35:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 13:35:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR c.b.t.n.s.i.w.helper.StatusHandler - Error fetching status for chatId: 630296946
org.hibernate.LazyInitializationException: Could not initialize proxy [com.bronx.telegram.notification.model.entity.Company#1] - no session
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:328) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:44) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:102) ~[hibernate-core-6.6.36.Final.jar:6.6.36.Final]
	at com.bronx.telegram.notification.model.entity.Company$HibernateProxy.getName(Unknown Source) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.appendCompanyInfo(StatusHandler.java:114) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.sendEmployeeStatus(StatusHandler.java:79) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.handleStatus(StatusHandler.java:48) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleStatusCommand(CommandHandler.java:71) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:42) ~[main/:na]
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49) ~[main/:na]
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135) ~[spring-retry-2.0.12.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source) ~[na:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331) ~[spring-rabbit-3.2.8.jar:3.2.8]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]
2025-12-23 13:35:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6911)
2025-12-23 13:35:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 67
2025-12-23 13:44:10 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:44:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 13:44:11 [Thread-22] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 13:44:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 13:44:11 [Thread-22] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:44:11 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:44:11 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:44:12 [Thread-22] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:44:12 [Thread-22] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:44:12 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-12-23 13:44:12 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-12-23 13:44:13 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:44:13 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:44:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:44:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 759 ms. Found 11 JPA repository interfaces.
2025-12-23 13:44:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:44:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 13:44:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 13:44:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 13:44:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8070 ms
2025-12-23 13:44:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:44:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:44:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-12-23 13:44:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@27209e99
2025-12-23 13:44:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-12-23 13:44:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:44:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:44:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:44:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:44:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:44:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:44:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:44:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:44:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:44:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:44:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:44:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:44:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:44:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:44:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:44:36 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:44:37 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:44:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:44:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:44:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:44:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:44:40 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:44:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:44:42 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationFlowHandler' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/RegistrationFlowHandler.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:44:42 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:44:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:44:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-12-23 13:44:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-12-23 13:44:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-23 13:44:42 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 13:44:42 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-23 13:44:45 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 78201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 13:44:45 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 13:44:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 13:44:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 930 ms. Found 11 JPA repository interfaces.
2025-12-23 13:44:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 13:44:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10646 ms
2025-12-23 13:44:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 13:44:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 13:44:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-12-23 13:45:01 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@39ffa97d
2025-12-23 13:45:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-12-23 13:45:01 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 13:45:01 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 13:45:01 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 13:45:04 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 13:45:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:45:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 13:45:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 13:45:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 13:45:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:45:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:45:09 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:45:10 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:45:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 13:45:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 13:45:12 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 13:45:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:45:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 13:45:13 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 13:45:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 13:45:16 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationFlowHandler' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/RegistrationFlowHandler.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 13:45:16 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 13:45:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 13:45:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-12-23 13:45:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-12-23 14:36:50 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 98722 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 14:36:50 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 14:36:50 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 14:36:50 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 14:36:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 14:36:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 11 JPA repository interfaces.
2025-12-23 14:36:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 14:36:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 14:36:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 14:36:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 14:36:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3126 ms
2025-12-23 14:36:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 14:36:54 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 14:36:54 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 14:36:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 14:36:54 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e015de4
2025-12-23 14:36:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 14:36:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 14:36:54 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 14:36:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 14:36:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 14:36:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:36:59 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 14:37:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 14:37:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 14:37:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 14:37:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:37:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:37:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 14:37:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 14:37:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:37:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:37:03 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:37:03 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:37:05 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 14:37:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 14:37:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 14:37:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 14:37:08 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 14:37:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 14:37:08 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 14:37:09 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#303d88f0:0/SimpleConnection@652e6950 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57224]
2025-12-23 14:37:09 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 19.524 seconds (process running for 21.569)
2025-12-23 14:37:09 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 14:37:09 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 14:37:09 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-23 14:40:40 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580933: {"update_id":631580933,"message":{"message_id":6912,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475640,"text":"üìù Register"}}
2025-12-23 14:40:41 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 68 for processing
2025-12-23 14:40:41 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 68 for processing
2025-12-23 14:40:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 68 with command üìù Register
2025-12-23 14:40:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6913)
2025-12-23 14:40:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 68
2025-12-23 14:41:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580934: {"update_id":631580934,"message":{"message_id":6914,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475660,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 14:41:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 69 for processing
2025-12-23 14:41:00 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 69 for processing
2025-12-23 14:41:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 69 with command smith.developer@acme.com
2025-12-23 14:41:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 14:41:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6915)
2025-12-23 14:41:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 69
2025-12-23 14:41:10 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580935: {"update_id":631580935,"message":{"message_id":6916,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475669,"text":"EMP-002"}}
2025-12-23 14:41:10 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 70 for processing
2025-12-23 14:41:10 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 70 for processing
2025-12-23 14:41:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 70 with command EMP-002
2025-12-23 14:41:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 14:41:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6917)
2025-12-23 14:41:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 70
2025-12-23 14:41:17 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580936: {"update_id":631580936,"message":{"message_id":6918,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475676,"text":"099 88 99 99"}}
2025-12-23 14:41:17 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 71 for processing
2025-12-23 14:41:17 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 71 for processing
2025-12-23 14:41:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 71 with command 099 88 99 99
2025-12-23 14:41:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:41:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6919)
2025-12-23 14:41:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 71
2025-12-23 14:41:29 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580937: {"update_id":631580937,"message":{"message_id":6920,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475689,"text":"Menglang Huo"}}
2025-12-23 14:41:29 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 72 for processing
2025-12-23 14:41:29 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 72 for processing
2025-12-23 14:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 72 with command Menglang Huo
2025-12-23 14:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6921)
2025-12-23 14:41:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 72
2025-12-23 14:42:20 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 14:42:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:21 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 14:42:21 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 8 requests)
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:42:21 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:42:21 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:42:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 14:42:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 14:42:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 98722 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 14:42:22 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 14:42:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 14:42:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 602 ms. Found 11 JPA repository interfaces.
2025-12-23 14:42:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 14:42:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 14:42:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 14:42:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 14:42:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4090 ms
2025-12-23 14:42:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 14:42:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 14:42:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 14:42:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5765e64b
2025-12-23 14:42:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 14:42:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 14:42:28 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 14:42:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 14:42:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 14:42:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:42:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 14:42:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 14:42:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 14:42:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:42:30 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:42:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 14:42:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 14:42:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:42:32 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:32 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:42:33 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:42:33 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:35 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:42:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:36 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:42:36 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 14:42:36 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 14:42:36 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 14:42:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 14:42:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 14:42:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 14:42:37 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 14:42:37 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#27b85d07:0/SimpleConnection@5dd0c046 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57260]
2025-12-23 14:42:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 15.043 seconds (process running for 349.615)
2025-12-23 14:42:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 14:42:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (4 additions, 0 deletions, 0 modifications)
2025-12-23 14:42:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:42:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:42:39 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 14:42:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:42:39 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:42:39 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:42:39 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 14:42:39 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 14:42:39 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 98722 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 14:42:39 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 14:42:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 14:42:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 11 JPA repository interfaces.
2025-12-23 14:42:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 14:42:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 14:42:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 14:42:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 14:42:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 606 ms
2025-12-23 14:42:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 14:42:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 14:42:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 14:42:40 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@37ae9a4e
2025-12-23 14:42:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 14:42:40 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 14:42:40 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 14:42:40 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 14:42:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 14:42:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:42:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 14:42:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 14:42:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 14:42:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:42:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:42:43 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:42:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:42:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 14:42:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 14:42:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:42:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:42:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:42:46 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 14:42:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 14:42:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 14:42:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 14:42:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 14:42:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 14:42:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 14:42:46 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5a25d8c7:0/SimpleConnection@405aa2a2 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57269]
2025-12-23 14:42:47 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 7.676 seconds (process running for 359.355)
2025-12-23 14:42:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 16 ms
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580938: {"update_id":631580938,"message":{"message_id":6922,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475795,"text":"üìù Register"}}
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 73 for processing
2025-12-23 14:43:15 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 73 for processing
2025-12-23 14:43:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 73 with command üìù Register
2025-12-23 14:43:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:43:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6923)
2025-12-23 14:43:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 73
2025-12-23 14:43:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580939: {"update_id":631580939,"message":{"message_id":6924,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475809,"text":"Menglang Huo"}}
2025-12-23 14:43:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 74 for processing
2025-12-23 14:43:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 74 for processing
2025-12-23 14:43:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 74 with command Menglang Huo
2025-12-23 14:43:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:43:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6925)
2025-12-23 14:43:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 74
2025-12-23 14:43:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580940: {"update_id":631580940,"message":{"message_id":6926,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475817,"text":"Menglang Huo"}}
2025-12-23 14:43:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 75 for processing
2025-12-23 14:43:38 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 75 for processing
2025-12-23 14:43:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 75 with command Menglang Huo
2025-12-23 14:43:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:43:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6927)
2025-12-23 14:43:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 75
2025-12-23 14:44:03 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580941: {"update_id":631580941,"message":{"message_id":6928,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766475842,"text":"/finish","entities":[{"offset":0,"length":7,"type":"bot_command"}]}}
2025-12-23 14:44:03 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 76 for processing
2025-12-23 14:44:03 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 76 for processing
2025-12-23 14:44:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 76 with command /finish
2025-12-23 14:44:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:44:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6929)
2025-12-23 14:44:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 76
2025-12-23 14:49:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:49:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:49:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:49:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:49:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:49:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 14:49:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 7 requests)
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 14:49:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 14:49:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 2201 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 14:49:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 14:49:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 14:49:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 14:49:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 14:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 11 JPA repository interfaces.
2025-12-23 14:49:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 14:49:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 14:49:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 14:49:38 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 14:49:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3093 ms
2025-12-23 14:49:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 14:49:38 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 14:49:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 14:49:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 14:49:39 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4923e593
2025-12-23 14:49:39 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 14:49:39 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 14:49:39 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 14:49:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 14:49:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 14:49:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:49:42 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 14:49:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 14:49:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 14:49:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 14:49:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:49:43 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:49:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 14:49:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 14:49:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:49:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:49:47 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:49:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:49:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:49:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:49:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:49:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:49:50 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 14:49:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 14:49:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 14:49:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 14:49:52 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 14:49:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 14:49:53 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 14:49:53 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4b7c4abf:0/SimpleConnection@76be57f7 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57304]
2025-12-23 14:49:53 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.562 seconds (process running for 20.171)
2025-12-23 14:49:53 [RMI TCP Connection(1)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 14:49:53 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 14:49:53 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-23 14:52:21 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580942: {"update_id":631580942,"message":{"message_id":6930,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476340,"text":"üìù Register"}}
2025-12-23 14:52:21 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 77 for processing
2025-12-23 14:52:21 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 77 for processing
2025-12-23 14:52:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 77 with command üìù Register
2025-12-23 14:52:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6931)
2025-12-23 14:52:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 77
2025-12-23 14:52:34 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580943: {"update_id":631580943,"message":{"message_id":6932,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476354,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 14:52:34 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 78 for processing
2025-12-23 14:52:34 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 78 for processing
2025-12-23 14:52:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 78 with command smith.developer@acme.com
2025-12-23 14:52:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 14:52:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6933)
2025-12-23 14:52:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 78
2025-12-23 14:52:40 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580944: {"update_id":631580944,"message":{"message_id":6934,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476360,"text":"EMP-002"}}
2025-12-23 14:52:40 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 79 for processing
2025-12-23 14:52:40 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 79 for processing
2025-12-23 14:52:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 79 with command EMP-002
2025-12-23 14:52:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 14:52:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6935)
2025-12-23 14:52:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 79
2025-12-23 14:52:50 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580945: {"update_id":631580945,"message":{"message_id":6936,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476370,"text":"099 889 977"}}
2025-12-23 14:52:50 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 80 for processing
2025-12-23 14:52:50 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 80 for processing
2025-12-23 14:52:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 80 with command 099 889 977
2025-12-23 14:52:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:52:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6937)
2025-12-23 14:52:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 80
2025-12-23 14:53:00 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580946: {"update_id":631580946,"message":{"message_id":6938,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476380,"text":"Menglang Huo"}}
2025-12-23 14:53:00 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 81 for processing
2025-12-23 14:53:00 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 81 for processing
2025-12-23 14:53:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 81 with command Menglang Huo
2025-12-23 14:53:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:53:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6939)
2025-12-23 14:53:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 81
2025-12-23 14:55:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:55:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:55:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:55:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 14:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:55:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 14:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 14:55:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 8 requests)
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 14:55:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 14:55:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 3723 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 14:55:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 14:55:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 14:55:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 14:55:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 14:55:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 11 JPA repository interfaces.
2025-12-23 14:55:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 14:55:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 14:55:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 14:55:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 14:55:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2897 ms
2025-12-23 14:55:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 14:55:42 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 14:55:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 14:55:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 14:55:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3683a7d7
2025-12-23 14:55:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 14:55:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 14:55:42 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 14:55:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 14:55:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 14:55:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 14:55:45 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 14:55:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 14:55:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 14:55:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 14:55:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:55:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 14:55:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 14:55:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 14:55:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:55:48 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:55:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:55:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:55:50 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:55:50 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 14:55:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 14:55:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 14:55:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:55:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 14:55:52 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 14:55:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 14:55:54 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 14:55:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 14:55:55 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 14:55:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 14:55:55 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 14:55:55 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#12abf488:0/SimpleConnection@367cd8df [delegate=amqp://admin@127.0.0.1:5672/, localPort=57346]
2025-12-23 14:55:55 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 17.201 seconds (process running for 19.38)
2025-12-23 14:55:55 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 14:55:55 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 14:55:55 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-12-23 14:56:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580947: {"update_id":631580947,"message":{"message_id":6940,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476589,"text":"Status"}}
2025-12-23 14:56:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 82 for processing
2025-12-23 14:56:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 82 for processing
2025-12-23 14:56:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 82 with command Status
2025-12-23 14:56:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:56:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23514
2025-12-23 14:56:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:56:30.497071+07, AWAITING_FULL_NAME, Status, null, null).
2025-12-23 14:56:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 82
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:56:30.497071+07, AWAITING_FULL_NAME, Status, null, null).] [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]; SQL [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]; constraint [user_bot_states_state_check]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:567)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy197.save(Unknown Source)
	at com.bronx.telegram.notification.service.impl.UserBotStateServiceImpl.updateUserState(UserBotStateServiceImpl.java:56)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleContactInput(RegistrationFlowHandler.java:138)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleRegistrationFlow(RegistrationFlowHandler.java:58)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:44)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:56:30.497071+07, AWAITING_FULL_NAME, Status, null, null).] [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:563)
	... 49 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:56:30.497071+07, AWAITING_FULL_NAME, Status, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 70 common frames omitted
2025-12-23 14:57:11 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580948: {"update_id":631580948,"message":{"message_id":6941,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476630,"text":"üìù Register"}}
2025-12-23 14:57:11 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 83 for processing
2025-12-23 14:57:11 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 83 for processing
2025-12-23 14:57:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 83 with command üìù Register
2025-12-23 14:57:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6942)
2025-12-23 14:57:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 83
2025-12-23 14:57:20 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580949: {"update_id":631580949,"message":{"message_id":6943,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476640,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 14:57:20 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 84 for processing
2025-12-23 14:57:20 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 84 for processing
2025-12-23 14:57:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 84 with command smith.developer@acme.com
2025-12-23 14:57:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 14:57:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6944)
2025-12-23 14:57:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 84
2025-12-23 14:57:26 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580950: {"update_id":631580950,"message":{"message_id":6945,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476645,"text":"EMP-002"}}
2025-12-23 14:57:26 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 85 for processing
2025-12-23 14:57:26 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 85 for processing
2025-12-23 14:57:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 85 with command EMP-002
2025-12-23 14:57:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 14:57:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6946)
2025-12-23 14:57:26 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 85
2025-12-23 14:57:31 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580951: {"update_id":631580951,"message":{"message_id":6947,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476651,"text":"099 88 99 00"}}
2025-12-23 14:57:31 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 86 for processing
2025-12-23 14:57:31 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 86 for processing
2025-12-23 14:57:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 86 with command 099 88 99 00
2025-12-23 14:57:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 14:57:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23514
2025-12-23 14:57:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:57:31.494886+07, AWAITING_FULL_NAME, 099 88 99 00, null, null).
2025-12-23 14:57:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 86
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:57:31.494886+07, AWAITING_FULL_NAME, 099 88 99 00, null, null).] [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]; SQL [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]; constraint [user_bot_states_state_check]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:567)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy197.save(Unknown Source)
	at com.bronx.telegram.notification.service.impl.UserBotStateServiceImpl.updateUserState(UserBotStateServiceImpl.java:56)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleContactInput(RegistrationFlowHandler.java:138)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler.handleRegistrationFlow(RegistrationFlowHandler.java:58)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:44)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:57:31.494886+07, AWAITING_FULL_NAME, 099 88 99 00, null, null).] [update user_bot_states set company_code=?,contact=?,email=?,employee_code=?,full_name=?,last_modified=?,role=?,state=? where chat_id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:563)
	... 49 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "user_bot_states" violates check constraint "user_bot_states_state_check"
  Detail: Failing row contains (630296946, null, smith.developer@acme.com, EMP-002, 2025-12-23 14:57:31.494886+07, AWAITING_FULL_NAME, 099 88 99 00, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 70 common frames omitted
2025-12-23 15:00:18 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580952: {"update_id":631580952,"message":{"message_id":6948,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476818,"text":"üìù Register"}}
2025-12-23 15:00:18 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 87 for processing
2025-12-23 15:00:18 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 87 for processing
2025-12-23 15:00:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 87 with command üìù Register
2025-12-23 15:00:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6949)
2025-12-23 15:00:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 87
2025-12-23 15:00:28 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580953: {"update_id":631580953,"message":{"message_id":6950,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476828,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 15:00:28 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 88 for processing
2025-12-23 15:00:28 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 88 for processing
2025-12-23 15:00:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 88 with command smith.developer@acme.com
2025-12-23 15:00:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 15:00:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6951)
2025-12-23 15:00:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 88
2025-12-23 15:00:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580954: {"update_id":631580954,"message":{"message_id":6952,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476833,"text":"EMP-002"}}
2025-12-23 15:00:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 89 for processing
2025-12-23 15:00:34 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 89 for processing
2025-12-23 15:00:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 89 with command EMP-002
2025-12-23 15:00:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 15:00:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6953)
2025-12-23 15:00:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 89
2025-12-23 15:00:38 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580955: {"update_id":631580955,"message":{"message_id":6954,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476838,"text":"099 88 88 88"}}
2025-12-23 15:00:38 [http-nio-8088-exec-10] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 90 for processing
2025-12-23 15:00:38 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 90 for processing
2025-12-23 15:00:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 90 with command 099 88 88 88
2025-12-23 15:00:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 15:00:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6955)
2025-12-23 15:00:39 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 90
2025-12-23 15:00:44 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580956: {"update_id":631580956,"message":{"message_id":6956,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476844,"text":"Menglang HUO"}}
2025-12-23 15:00:44 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 91 for processing
2025-12-23 15:00:44 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 91 for processing
2025-12-23 15:00:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 91 with command Menglang HUO
2025-12-23 15:00:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_FULL_NAME, delegating to state handler
2025-12-23 15:00:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6957)
2025-12-23 15:00:44 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 91
2025-12-23 15:01:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580957: {"update_id":631580957,"message":{"message_id":6958,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476864,"text":"Officer Sofware Engineer"}}
2025-12-23 15:01:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 92 for processing
2025-12-23 15:01:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 92 for processing
2025-12-23 15:01:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 92 with command Officer Sofware Engineer
2025-12-23 15:01:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_ROLE, delegating to state handler
2025-12-23 15:01:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com
2025-12-23 15:01:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6959)
2025-12-23 15:01:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6960
2025-12-23 15:01:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 92
2025-12-23 15:01:17 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580958: {"update_id":631580958,"message":{"message_id":6961,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766476877,"text":"üìä Status"}}
2025-12-23 15:01:17 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 93 for processing
2025-12-23 15:01:17 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 93 for processing
2025-12-23 15:01:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 93 with command üìä Status
2025-12-23 15:01:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:01:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6962)
2025-12-23 15:01:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 93
2025-12-23 15:03:25 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580959: {"update_id":631580959,"message":{"message_id":6963,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477004,"text":"üìä Status"}}
2025-12-23 15:03:25 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 94 for processing
2025-12-23 15:03:25 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 94 for processing
2025-12-23 15:03:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 94 with command üìä Status
2025-12-23 15:03:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:03:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] ERROR c.b.t.n.s.i.w.helper.StatusHandler - Error fetching status for chatId: 630296946
org.hibernate.LazyInitializationException: Could not initialize proxy [com.bronx.telegram.notification.model.entity.Company#1] - no session
	at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174)
	at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:328)
	at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:44)
	at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:102)
	at com.bronx.telegram.notification.model.entity.Company$HibernateProxy.getName(Unknown Source)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.appendCompanyInfo(StatusHandler.java:114)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.sendEmployeeStatus(StatusHandler.java:79)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.StatusHandler.handleStatus(StatusHandler.java:48)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleStatusCommand(CommandHandler.java:72)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:43)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-23 15:03:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6964)
2025-12-23 15:03:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 94
2025-12-23 15:03:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:03:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:03:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:03:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:03:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:03:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:03:52 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:03:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 15 requests)
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 15:03:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 15:08:44 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 7023 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:08:44 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:08:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 15:08:44 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 15:08:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:08:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 11 JPA repository interfaces.
2025-12-23 15:08:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:08:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:08:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:08:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:08:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2897 ms
2025-12-23 15:08:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:08:47 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 15:08:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:08:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 15:08:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38684bb8
2025-12-23 15:08:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 15:08:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:08:48 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:08:48 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:08:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:08:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:08:51 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 15:08:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:08:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:08:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:08:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:08:52 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:08:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:08:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:08:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:08:55 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:08:56 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:08:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:08:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:08:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:08:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:08:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:08:58 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:08:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:09:00 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:09:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:09:01 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:09:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:09:01 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:09:01 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2c7293da:0/SimpleConnection@45273f3e [delegate=amqp://admin@127.0.0.1:5672/, localPort=57411]
2025-12-23 15:09:01 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.139 seconds (process running for 20.099)
2025-12-23 15:10:36 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 15:10:36 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 15:10:36 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2025-12-23 15:10:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580960: {"update_id":631580960,"message":{"message_id":6965,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477436,"text":"üìä Status"}}
2025-12-23 15:10:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 95 for processing
2025-12-23 15:10:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 95 for processing
2025-12-23 15:10:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 95 with command üìä Status
2025-12-23 15:10:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:10:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended personal info for employee: EMP-002
2025-12-23 15:10:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler -  company info for employee: com.bronx.telegram.notification.model.entity.Employee@4018b4be
2025-12-23 15:10:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended company info for employee: EMP-002
2025-12-23 15:10:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6966)
2025-12-23 15:10:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Status sent successfully for employee: EMP-002
2025-12-23 15:10:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 95
2025-12-23 15:11:34 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 15:11:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:11:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:11:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:11:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:11:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:11:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:11:35 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:11:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:11:35 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:11:35 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:11:35 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 15:11:35 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 15:11:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 7023 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:11:37 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:11:37 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/CommandHandler.class]
2025-12-23 15:11:38 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/CommandHandler.class]
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:509) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:350) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:277) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:346) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:281) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:204) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.14.jar:6.2.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.8.jar:3.5.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.8.jar:3.5.8]
	at com.bronx.telegram.notification.NotificationApplication.main(NotificationApplication.java:10) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.8.jar:3.5.8]
Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 0
	at org.springframework.asm.ClassReader.readUnsignedShort(ClassReader.java:3634) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.asm.ClassReader.<init>(ClassReader.java:208) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.asm.ClassReader.<init>(ClassReader.java:180) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.asm.ClassReader.<init>(ClassReader.java:166) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.asm.ClassReader.<init>(ClassReader.java:292) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:56) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:48) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122) ~[spring-core-6.2.14.jar:6.2.14]
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:469) ~[spring-context-6.2.14.jar:6.2.14]
	... 23 common frames omitted
2025-12-23 15:11:40 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 7023 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:11:40 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:11:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:11:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1045 ms. Found 11 JPA repository interfaces.
2025-12-23 15:11:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:11:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:11:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:11:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:11:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10517 ms
2025-12-23 15:11:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:11:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:11:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 15:11:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@94e49ac
2025-12-23 15:11:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 15:11:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:11:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:11:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:11:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:11:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:11:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:11:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:11:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:11:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:11:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:11:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:11:57 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:11:57 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:11:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:11:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:11:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:11:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:11:59 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:11:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:12:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:12:05 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:12:05 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:12:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:12:06 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:12:06 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#10593177:0/SimpleConnection@7f2f87cc [delegate=amqp://admin@127.0.0.1:5672/, localPort=57437]
2025-12-23 15:12:07 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 26.534 seconds (process running for 205.444)
2025-12-23 15:12:07 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 15:13:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-23 15:13:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:13:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:13:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:13:36 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:13:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:13:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:13:36 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:13:36 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:13:36 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 15:13:36 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 15:13:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 7023 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:13:38 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:13:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:13:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 11 JPA repository interfaces.
2025-12-23 15:13:40 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 8282 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:13:40 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:13:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:13:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:13:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:13:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:13:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2263 ms
2025-12-23 15:13:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 15:13:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 15:13:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:13:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:13:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 15:13:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@4ff27315
2025-12-23 15:13:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 15:13:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:13:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:13:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:13:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:13:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:13:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:13:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:13:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:13:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:13:44 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:13:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:13:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 514 ms. Found 11 JPA repository interfaces.
2025-12-23 15:13:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:13:45 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:13:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:45 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:13:47 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:13:47 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:13:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:13:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:13:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:13:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:13:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8294 ms
2025-12-23 15:13:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:13:49 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 15:13:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:13:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:13:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:13:49 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:13:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:13:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 15:13:50 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d6973ab
2025-12-23 15:13:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 15:13:50 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:13:50 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:13:50 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:13:50 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:13:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:13:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:13:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:13:52 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:13:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:13:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:13:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#55fa49a3:0/SimpleConnection@6b756a0a [delegate=amqp://admin@127.0.0.1:5672/, localPort=57462]
2025-12-23 15:13:53 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 14.861 seconds (process running for 311.467)
2025-12-23 15:13:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 15:13:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:13:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:13:54 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 15:13:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:13:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:13:55 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:13:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:13:55 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:13:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:14:00 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:14:00 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:14:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:14:01 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:14:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:14:01 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:14:02 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:14:02 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:14:04 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:14:05 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 15:14:05 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:14:05 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:14:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:14:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:14:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 15:14:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 15:14:05 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 15:14:05 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8088 was already in use.

Action:

Identify and stop the process that's listening on port 8088 or configure this application to listen on another port.

2025-12-23 15:16:14 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (0 additions, 5 deletions, 0 modifications)
2025-12-23 15:16:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:15 [Thread-13] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:16:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:15 [Thread-13] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:15 [Thread-13] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:16:15 [Thread-13] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-23 15:16:15 [Thread-13] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-23 15:16:16 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 7023 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:16:16 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:16:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:16:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 575 ms. Found 11 JPA repository interfaces.
2025-12-23 15:16:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:16:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:16:22 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:16:22 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:16:22 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6139 ms
2025-12-23 15:16:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:16:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:16:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-23 15:16:23 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@2329f20b
2025-12-23 15:16:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-23 15:16:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:16:23 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:16:23 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:16:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 8971 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:16:23 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:16:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 15:16:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 15:16:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:16:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:16:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:16:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:16:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:16:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:16:28 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:16:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:16:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 301 ms. Found 11 JPA repository interfaces.
2025-12-23 15:16:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:16:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:16:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:16:31 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:16:31 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:16:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:16:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:16:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:16:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:16:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7142 ms
2025-12-23 15:16:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:16:32 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 15:16:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:16:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 15:16:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:16:33 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:16:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:33 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:16:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76041e55
2025-12-23 15:16:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 15:16:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:16:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:16:34 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:16:34 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:16:34 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:16:35 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:16:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:16:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:16:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:16:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:16:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5b2ce9d2:0/SimpleConnection@1bdbb9a5 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57494]
2025-12-23 15:16:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:16:35 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 19.215 seconds (process running for 474.243)
2025-12-23 15:16:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 15:16:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:16:36 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 15:16:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:16:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:16:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:16:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:16:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:16:41 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:16:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:16:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:16:42 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:16:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:42 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:16:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:16:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:16:44 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:16:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:16:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:16:46 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-12-23 15:16:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:16:46 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:46 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:16:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 15:16:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 15:16:46 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-23 15:16:46 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8088 was already in use.

Action:

Identify and stop the process that's listening on port 8088 or configure this application to listen on another port.

2025-12-23 15:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:16:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:16:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-23 15:16:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-23 15:17:03 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9160 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:17:03 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:17:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-23 15:17:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-23 15:17:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:17:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 11 JPA repository interfaces.
2025-12-23 15:17:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:17:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:17:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:17:06 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:17:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2296 ms
2025-12-23 15:17:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:17:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-23 15:17:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:17:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-23 15:17:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2da617a8
2025-12-23 15:17:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-23 15:17:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:17:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:17:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:17:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:17:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:17:09 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-23 15:17:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:17:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:17:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:17:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:17:10 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:17:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:17:12 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:17:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:17:12 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:17:13 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:17:13 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:17:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:17:15 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:17:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:17:15 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:17:16 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:17:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:17:18 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:17:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:17:19 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:17:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:17:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:17:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3a45b073:0/SimpleConnection@16065e7f [delegate=amqp://admin@127.0.0.1:5672/, localPort=57510]
2025-12-23 15:17:19 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 16.483 seconds (process running for 18.019)
2025-12-23 15:17:20 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 15:17:20 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 15:17:20 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-23 15:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580961: {"update_id":631580961,"message":{"message_id":6967,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477877,"text":"üìù Register"}}
2025-12-23 15:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 96 for processing
2025-12-23 15:17:58 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 96 for processing
2025-12-23 15:17:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 96 with command üìù Register
2025-12-23 15:17:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6968)
2025-12-23 15:17:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 96
2025-12-23 15:18:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580962: {"update_id":631580962,"message":{"message_id":6969,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477885,"text":"/status","entities":[{"offset":0,"length":7,"type":"bot_command"}]}}
2025-12-23 15:18:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 97 for processing
2025-12-23 15:18:05 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 97 for processing
2025-12-23 15:18:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 97 with command /status
2025-12-23 15:18:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:18:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended personal info for employee: EMP-002
2025-12-23 15:18:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended company info for employee: EMP-002
2025-12-23 15:18:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6970)
2025-12-23 15:18:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Status sent successfully for employee: EMP-002
2025-12-23 15:18:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 97
2025-12-23 15:18:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580963: {"update_id":631580963,"message":{"message_id":6971,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477921,"text":"üìù Register"}}
2025-12-23 15:18:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 98 for processing
2025-12-23 15:18:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 98 for processing
2025-12-23 15:18:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 98 with command üìù Register
2025-12-23 15:18:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6972)
2025-12-23 15:18:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 98
2025-12-23 15:18:49 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580964: {"update_id":631580964,"message":{"message_id":6973,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477929,"text":"smith.developer@acme.com","entities":[{"offset":0,"length":24,"type":"email"}]}}
2025-12-23 15:18:49 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 99 for processing
2025-12-23 15:18:49 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 99 for processing
2025-12-23 15:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 99 with command smith.developer@acme.com
2025-12-23 15:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-23 15:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6974)
2025-12-23 15:18:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 99
2025-12-23 15:18:56 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580965: {"update_id":631580965,"message":{"message_id":6975,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477935,"text":"EMP-002"}}
2025-12-23 15:18:56 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 100 for processing
2025-12-23 15:18:56 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 100 for processing
2025-12-23 15:18:56 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 100 with command EMP-002
2025-12-23 15:18:56 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-23 15:18:56 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6976)
2025-12-23 15:18:56 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 100
2025-12-23 15:19:02 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580966: {"update_id":631580966,"message":{"message_id":6977,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477942,"text":"099 8877777"}}
2025-12-23 15:19:02 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 101 for processing
2025-12-23 15:19:02 [http-nio-8088-exec-6] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 101 for processing
2025-12-23 15:19:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 101 with command 099 8877777
2025-12-23 15:19:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-23 15:19:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6978)
2025-12-23 15:19:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 101
2025-12-23 15:19:10 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580967: {"update_id":631580967,"message":{"message_id":6979,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477950,"text":"Huo Menglang"}}
2025-12-23 15:19:10 [http-nio-8088-exec-7] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 102 for processing
2025-12-23 15:19:10 [http-nio-8088-exec-7] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 102 for processing
2025-12-23 15:19:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 102 with command Huo Menglang
2025-12-23 15:19:10 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_FULL_NAME, delegating to state handler
2025-12-23 15:19:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6980)
2025-12-23 15:19:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 102
2025-12-23 15:19:27 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580968: {"update_id":631580968,"message":{"message_id":6981,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477967,"text":"Junior Developer"}}
2025-12-23 15:19:27 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 103 for processing
2025-12-23 15:19:27 [http-nio-8088-exec-8] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 103 for processing
2025-12-23 15:19:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 103 with command Junior Developer
2025-12-23 15:19:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_ROLE, delegating to state handler
2025-12-23 15:19:27 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: smith.developer@acme.com
2025-12-23 15:19:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6982)
2025-12-23 15:19:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 6983
2025-12-23 15:19:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 103
2025-12-23 15:19:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580969: {"update_id":631580969,"message":{"message_id":6984,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766477976,"text":"üìä Status"}}
2025-12-23 15:19:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 104 for processing
2025-12-23 15:19:36 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 104 for processing
2025-12-23 15:19:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 104 with command üìä Status
2025-12-23 15:19:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:19:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended personal info for employee: EMP-002
2025-12-23 15:19:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended company info for employee: EMP-002
2025-12-23 15:19:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6985)
2025-12-23 15:19:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Status sent successfully for employee: EMP-002
2025-12-23 15:19:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 104
2025-12-23 15:21:30 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-12-23 15:21:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:32 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:21:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 13 requests)
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:21:32 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:21:32 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:21:32 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-23 15:21:32 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-23 15:21:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9160 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:21:33 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:21:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:21:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 11 JPA repository interfaces.
2025-12-23 15:21:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:21:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:21:34 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:21:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:21:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2036 ms
2025-12-23 15:21:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:21:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:21:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-23 15:21:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@23ad3083
2025-12-23 15:21:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-23 15:21:35 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:21:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:21:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:21:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:21:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:21:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:21:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:21:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:21:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:21:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:21:41 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:21:41 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:21:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:21:43 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:21:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:43 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:21:44 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:21:44 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:21:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:21:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:21:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:21:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:21:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:21:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3c187689:0/SimpleConnection@2a2ac882 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57550]
2025-12-23 15:21:45 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 12.704 seconds (process running for 283.918)
2025-12-23 15:21:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 15:21:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-12-23 15:21:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-23 15:21:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-23 15:21:47 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-23 15:21:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-23 15:21:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:21:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.r.c.impl.AbstractMetricsCollector - Error while computing metrics in closeChannel: Cannot read field "channelState" because the return value of "com.rabbitmq.client.impl.AbstractMetricsCollector.connectionState(com.rabbitmq.client.Connection)" is null
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-23 15:21:47 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-23 15:21:47 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:21:47 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-23 15:21:47 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-23 15:21:48 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 9160 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-23 15:21:48 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-23 15:21:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-23 15:21:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 11 JPA repository interfaces.
2025-12-23 15:21:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-23 15:21:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-23 15:21:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-23 15:21:48 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-23 15:21:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 698 ms
2025-12-23 15:21:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-23 15:21:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-23 15:21:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-23 15:21:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@211af001
2025-12-23 15:21:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-23 15:21:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-23 15:21:49 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-23 15:21:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-23 15:21:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-23 15:21:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-23 15:21:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-23 15:21:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-23 15:21:49 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-23 15:21:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:21:49 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-23 15:21:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-23 15:21:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-23 15:21:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:21:53 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766453723)
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:21:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-23 15:21:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-23 15:21:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-23 15:21:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-23 15:21:56 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766139345)
2025-12-23 15:21:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-23 15:21:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-23 15:21:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-23 15:21:57 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-23 15:21:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-23 15:21:57 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-23 15:21:57 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7d4f3347:0/SimpleConnection@7ddd952e [delegate=amqp://admin@127.0.0.1:5672/, localPort=57559]
2025-12-23 15:21:57 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.359 seconds (process running for 295.752)
2025-12-23 15:21:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580970: {"update_id":631580970,"message":{"message_id":6986,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766478123,"text":"‚ùì Help"}}
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 105 for processing
2025-12-23 15:22:04 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 105 for processing
2025-12-23 15:22:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 105 with command ‚ùì Help
2025-12-23 15:22:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6987)
2025-12-23 15:22:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 105
2025-12-23 15:22:09 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 631580971: {"update_id":631580971,"message":{"message_id":6988,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766478129,"text":"üìä Status"}}
2025-12-23 15:22:09 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 106 for processing
2025-12-23 15:22:09 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 106 for processing
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 106 with command üìä Status
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended personal info for employee: EMP-002
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended company info for employee: EMP-002
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 6989)
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Status sent successfully for employee: EMP-002
2025-12-23 15:22:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 106

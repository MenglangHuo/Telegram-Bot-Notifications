2025-12-25 08:53:18 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 18232 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 08:53:18 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 08:53:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 08:53:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 08:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 08:53:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 11 JPA repository interfaces.
2025-12-25 08:53:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 08:53:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 08:53:22 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 08:53:22 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 08:53:22 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3571 ms
2025-12-25 08:53:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 08:53:23 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 08:53:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 08:53:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 08:53:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2944f766
2025-12-25 08:53:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 08:53:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 08:53:24 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 08:53:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 08:53:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 08:53:27 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 08:53:27 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 08:53:28 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 08:53:29 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 08:53:32 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 08:53:33 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 0 active bots to initialize
2025-12-25 08:53:33 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 0/0 bots active
2025-12-25 08:53:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 08:53:34 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 08:53:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 08:53:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 08:53:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 08:53:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#24b4207:0/SimpleConnection@22684aab [delegate=amqp://admin@127.0.0.1:5672/, localPort=51706]
2025-12-25 08:53:35 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 18.446 seconds (process running for 22.123)
2025-12-25 08:53:36 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 08:53:36 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 08:53:36 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 08:58:07 [http-nio-8088-exec-1] INFO  c.b.n.controller.PartnerController - Creating partner: BronX
2025-12-25 08:58:08 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.PartnerServiceImpl - Partner created successfully with ID: Z4tyx1RfGJJQmFbRJm5Ezjz3EJH9Kygm3eQkt3pTL8tijmB4lSaJWwKhmUh0F5KrA3xHIbp-Q1LsAtSe
2025-12-25 08:59:30 [http-nio-8088-exec-5] INFO  c.b.n.s.impl.CompanyServiceImpl - Created company 1 for partner 1
2025-12-25 09:01:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:01:07 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:01:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:01:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:01:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:01:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:02:23 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 20480 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:02:23 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:02:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:02:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:02:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:02:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 11 JPA repository interfaces.
2025-12-25 09:02:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:02:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:02:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:02:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:02:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3411 ms
2025-12-25 09:02:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:02:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:02:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:02:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:02:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21beb91b
2025-12-25 09:02:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:02:27 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:02:27 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:02:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:02:31 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:02:31 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:02:31 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:02:31 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:02:32 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:02:34 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'organizationUnitController' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes/com/bronx/notification/controller/OrganizationUnitController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'organizationUnitServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes/com/bronx/notification/service/impl/OrganizationUnitServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'organizationUnitRepository' defined in com.bronx.notification.repository.OrganizationUnitRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String); Reason: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
2025-12-25 09:02:34 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:02:34 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:02:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:02:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:02:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:02:34 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-25 09:02:34 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-25 09:02:34 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'organizationUnitController' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes/com/bronx/notification/controller/OrganizationUnitController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'organizationUnitServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes/com/bronx/notification/service/impl/OrganizationUnitServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'organizationUnitRepository' defined in com.bronx.notification.repository.OrganizationUnitRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String); Reason: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.bronx.notification.NotificationApplication.main(NotificationApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'organizationUnitServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes/com/bronx/notification/service/impl/OrganizationUnitServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'organizationUnitRepository' defined in com.bronx.notification.repository.OrganizationUnitRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String); Reason: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationUnitRepository' defined in com.bronx.notification.repository.OrganizationUnitRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String); Reason: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String); Reason: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:355)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:361)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 49 common frames omitted
Caused by: java.lang.IllegalArgumentException: Query 'SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL' validation failed for method public abstract java.lang.Integer com.bronx.notification.repository.OrganizationUnitRepository.sumEmployeeCountInSubtree(java.lang.String)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 61 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'employeeCount' of 'com.bronx.notification.model.entity.OrganizationUnit' [SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy180.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:88)
	... 67 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'employeeCount' of 'com.bronx.notification.model.entity.OrganizationUnit' [SELECT SUM(ou.employeeCount) FROM OrganizationUnit ou WHERE ou.path LIKE CONCAT(:path, '%') AND ou.deletedAt IS NULL]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 74 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'employeeCount' of 'com.bronx.notification.model.entity.OrganizationUnit'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:199)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5432)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5292)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1884)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:7882)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:749)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7331)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitExpressionOrPredicate(HqlParserBaseVisitor.java:882)
	at org.hibernate.grammars.hql.HqlParser$ExpressionOrPredicateContext.accept(HqlParser.java:8114)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFinalFunctionArgument(SemanticQueryBuilder.java:4401)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGenericFunctionArguments(SemanticQueryBuilder.java:4378)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGenericFunctionArguments(SemanticQueryBuilder.java:278)
	at org.hibernate.grammars.hql.HqlParser$GenericFunctionArgumentsContext.accept(HqlParser.java:12816)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.getFunctionArguments(SemanticQueryBuilder.java:4281)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGenericFunction(SemanticQueryBuilder.java:4146)
	at org.hibernate.grammars.hql.HqlParser$GenericFunctionContext.accept(HqlParser.java:12441)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitFunction(HqlParserBaseVisitor.java:1281)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFunctionExpression(SemanticQueryBuilder.java:1909)
	at org.hibernate.grammars.hql.HqlParser$FunctionExpressionContext.accept(HqlParser.java:7762)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:749)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7331)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitExpressionOrPredicate(HqlParserBaseVisitor.java:882)
	at org.hibernate.grammars.hql.HqlParser$ExpressionOrPredicateContext.accept(HqlParser.java:8114)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectableNode(SemanticQueryBuilder.java:1428)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelection(SemanticQueryBuilder.java:1405)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectClause(SemanticQueryBuilder.java:1398)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1247)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1029)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:278)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2077)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQueryExpression(SemanticQueryBuilder.java:1063)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQueryExpression(SemanticQueryBuilder.java:278)
	at org.hibernate.grammars.hql.HqlParser$QueryExpressionContext.accept(HqlParser.java:1973)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:493)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:452)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:325)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 79 common frames omitted
2025-12-25 09:03:22 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 20750 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:03:22 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:03:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:03:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:03:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:03:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 11 JPA repository interfaces.
2025-12-25 09:03:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:03:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:03:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:03:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:03:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3289 ms
2025-12-25 09:03:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:03:26 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:03:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:03:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:03:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@278fc9ce
2025-12-25 09:03:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:03:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:03:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:03:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:03:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:03:29 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:03:29 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:03:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:03:30 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:03:33 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:03:33 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 0 active bots to initialize
2025-12-25 09:03:33 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 0/0 bots active
2025-12-25 09:03:33 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:03:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:03:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:03:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:03:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:03:35 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3f9f2ec:0/SimpleConnection@1f1ffb89 [delegate=amqp://admin@127.0.0.1:5672/, localPort=52153]
2025-12-25 09:03:35 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 13.99 seconds (process running for 17.325)
2025-12-25 09:04:01 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 09:04:01 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 09:04:01 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 14 ms
2025-12-25 09:04:01 [http-nio-8088-exec-1] INFO  c.b.n.s.i.OrganizationUnitServiceImpl - üìù Creating organization unit: IT Department (IT)
2025-12-25 09:04:02 [http-nio-8088-exec-1] INFO  c.b.n.s.i.OrganizationUnitServiceImpl - ‚úÖ Created organization unit: IT Department with path: /1/
2025-12-25 09:04:25 [http-nio-8088-exec-3] INFO  c.b.n.s.i.OrganizationUnitServiceImpl - üìù Creating organization unit: IT Application (IT-App)
2025-12-25 09:04:25 [http-nio-8088-exec-3] INFO  c.b.n.s.i.OrganizationUnitServiceImpl - ‚úÖ Created organization unit: IT Application with path: /1/2/
2025-12-25 09:16:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:16:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:16:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:16:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:16:38 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 24181 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:16:38 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:16:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:16:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:16:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:16:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 11 JPA repository interfaces.
2025-12-25 09:16:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:16:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:16:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:16:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:16:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3781 ms
2025-12-25 09:16:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:16:43 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:16:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:16:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:16:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6144a863
2025-12-25 09:16:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:16:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:16:43 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:16:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:16:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:16:45 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:16:45 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:16:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:16:46 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:16:49 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:16:49 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 0 active bots to initialize
2025-12-25 09:16:49 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 0/0 bots active
2025-12-25 09:16:49 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:16:50 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:16:50 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:16:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:16:50 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:16:50 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6ccb8d6e:0/SimpleConnection@40064094 [delegate=amqp://admin@127.0.0.1:5672/, localPort=52700]
2025-12-25 09:16:51 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 14.043 seconds (process running for 16.156)
2025-12-25 09:17:27 [http-nio-8088-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 09:17:27 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 09:17:28 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 33 ms
2025-12-25 09:17:28 [http-nio-8088-exec-2] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.Instant` from String "2026-06-31T00:00:00Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2026-06-31T00:00:00Z' could not be parsed at index 0
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:408)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:356)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String "2026-06-31T00:00:00Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2026-06-31T00:00:00Z' could not be parsed at index 0
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 7, column: 14] (through reference chain: com.bronx.notification.dto.subscription.SubscriptionRequest["endDate"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1986)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1272)
	at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer._fromString(InstantDeserializer.java:459)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:357)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:56)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:543)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:587)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:440)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1499)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:340)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2130)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1500)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:397)
	... 55 common frames omitted
Caused by: java.time.format.DateTimeParseException: Text '2026-06-31T00:00:00Z' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1936)
	at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer._fromString(InstantDeserializer.java:453)
	... 67 common frames omitted
2025-12-25 09:17:28 [http-nio-8088-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.Instant` from String "2026-06-31T00:00:00Z": Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text '2026-06-31T00:00:00Z' could not be parsed at index 0]
2025-12-25 09:18:06 [http-nio-8088-exec-3] ERROR c.b.n.e.GlobalExceptionHandler - Duplicate resource: Scope already has an active subscription
2025-12-25 09:18:06 [http-nio-8088-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.bronx.notification.exceptions.DuplicateResourceException: Scope already has an active subscription]
2025-12-25 09:20:56 [http-nio-8088-exec-10] ERROR c.b.n.e.GlobalExceptionHandler - Duplicate resource: Scope already has an active subscription
2025-12-25 09:20:56 [http-nio-8088-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.bronx.notification.exceptions.DuplicateResourceException: Scope already has an active subscription]
2025-12-25 09:21:03 [http-nio-8088-exec-1] ERROR c.b.n.e.GlobalExceptionHandler - Duplicate resource: Scope already has an active subscription
2025-12-25 09:21:03 [http-nio-8088-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.bronx.notification.exceptions.DuplicateResourceException: Scope already has an active subscription]
2025-12-25 09:25:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:25:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:25:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:25:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:25:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:25:51 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 26464 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:25:51 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:25:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:25:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:25:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:25:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 11 JPA repository interfaces.
2025-12-25 09:25:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:25:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:25:55 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:25:55 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:25:55 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3702 ms
2025-12-25 09:25:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:25:55 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:25:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:25:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:25:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1ead3962
2025-12-25 09:25:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:25:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:25:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:25:56 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:25:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:25:57 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:25:57 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:25:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:25:58 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:26:00 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:26:00 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 0 active bots to initialize
2025-12-25 09:26:00 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 0/0 bots active
2025-12-25 09:26:01 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:26:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:26:01 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:26:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:26:01 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:26:02 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#58e4d25b:0/SimpleConnection@9f56d6 [delegate=amqp://admin@127.0.0.1:5672/, localPort=53118]
2025-12-25 09:26:02 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 11.613 seconds (process running for 12.776)
2025-12-25 09:26:03 [RMI TCP Connection(1)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 09:26:03 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 09:26:03 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-12-25 09:29:02 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 09:29:02 [http-nio-8088-exec-4] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:29:02 [http-nio-8088-exec-4] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:29:04 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 09:29:04 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 09:29:04 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:29:04 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 09:29:05 [http-nio-8088-exec-4] INFO  c.b.n.service.impl.BotServiceImpl - Created bot reply_management_bot for subscription 1 (scope: IT Department)
2025-12-25 09:31:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:31:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:31:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:31:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:34:21 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 28610 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:34:21 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:34:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:34:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:34:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:34:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 201 ms. Found 11 JPA repository interfaces.
2025-12-25 09:34:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:34:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:34:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:34:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:34:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3766 ms
2025-12-25 09:34:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:34:25 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:34:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:34:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:34:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@449e4a81
2025-12-25 09:34:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:34:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:34:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:34:26 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:34:28 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:34:28 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:34:28 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:34:28 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:34:29 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:34:34 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:34:34 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 09:34:34 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 09:34:34 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:34:34 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 09:34:36 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 09:34:37 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:34:37 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'templateController' method 
com.bronx.notification.controller.TemplateController#create(TelegramTemplateRequest)
to {POST [/api/v1/templates]}: There is already 'telegramTemplateController' bean method
com.bronx.notification.controller.TelegramTemplateController#creatTemplate(TelegramTemplateRequest) mapped.
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:34:37 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:34:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:34:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:34:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:34:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-25 09:34:37 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-25 09:34:37 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'templateController' method 
com.bronx.notification.controller.TemplateController#create(TelegramTemplateRequest)
to {POST [/api/v1/templates]}: There is already 'telegramTemplateController' bean method
com.bronx.notification.controller.TelegramTemplateController#creatTemplate(TelegramTemplateRequest) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.bronx.notification.NotificationApplication.main(NotificationApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'templateController' method 
com.bronx.notification.controller.TemplateController#create(TelegramTemplateRequest)
to {POST [/api/v1/templates]}: There is already 'telegramTemplateController' bean method
com.bronx.notification.controller.TelegramTemplateController#creatTemplate(TelegramTemplateRequest) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:676)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:637)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:507)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:84)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 21 common frames omitted
2025-12-25 09:36:35 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 29284 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:36:35 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:36:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:36:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:36:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:36:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 262 ms. Found 11 JPA repository interfaces.
2025-12-25 09:36:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:36:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4180 ms
2025-12-25 09:36:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:36:40 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:36:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:36:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:36:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f517815
2025-12-25 09:36:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:36:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:36:41 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:36:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:36:48 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:36:48 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:36:48 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:36:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:36:49 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:36:58 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:37:05 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 29427 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:37:05 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:37:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:37:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:37:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:37:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 11 JPA repository interfaces.
2025-12-25 09:37:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:37:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:37:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:37:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:37:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3101 ms
2025-12-25 09:37:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:37:09 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:37:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:37:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:37:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59a81edf
2025-12-25 09:37:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:37:09 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:37:09 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:37:10 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:37:11 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:37:11 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:37:11 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:37:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:37:12 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:37:15 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:37:16 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 09:37:16 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 09:37:16 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:37:16 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:37:17 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 09:37:17 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 09:37:17 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:37:17 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 09:37:18 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 09:37:18 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:37:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:37:19 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:37:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:37:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:37:19 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2d1c18f7:0/SimpleConnection@1222a9d3 [delegate=amqp://admin@127.0.0.1:5672/, localPort=53628]
2025-12-25 09:37:19 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 14.845 seconds (process running for 17.292)
2025-12-25 09:37:20 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 09:37:20 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 09:37:20 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-25 09:39:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:39:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:39:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:39:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:39:24 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 29970 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:39:24 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:39:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:39:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:39:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:39:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 11 JPA repository interfaces.
2025-12-25 09:39:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:39:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:39:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:39:27 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:39:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2947 ms
2025-12-25 09:39:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:39:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:39:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:39:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:39:28 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c2fff17
2025-12-25 09:39:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:39:28 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:39:28 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:39:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:39:30 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:39:30 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:39:30 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:39:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:39:30 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:39:35 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:39:35 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 09:39:35 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 09:39:35 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:39:35 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:39:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 09:39:36 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 09:39:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:39:36 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 09:39:37 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 09:39:38 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:39:39 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:39:39 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:39:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:39:39 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:39:39 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#24cd9329:0/SimpleConnection@381a72f9 [delegate=amqp://admin@127.0.0.1:5672/, localPort=53749]
2025-12-25 09:39:39 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 16.861 seconds (process running for 18.343)
2025-12-25 09:39:40 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 09:39:40 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 09:39:40 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-25 09:42:35 [http-nio-8088-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-12-25 09:42:35 [http-nio-8088-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (1, 2025-12-25 09:42:35.741624+07, System, 2025-12-25 09:42:35.741624+07, System, null, System, null, null, f, null, 3, null, null, null, null, NORMAL, null, 2025-12-25 09:42:35.611056+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, null, TEXT).
2025-12-25 09:42:35 [http-nio-8088-exec-2] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (1, 2025-12-25 09:42:35.741624+07, System, 2025-12-25 09:42:35.741624+07, System, null, System, null, null, f, null, 3, null, null, null, null, NORMAL, null, 2025-12-25 09:42:35.611056+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, null, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [message" of relation "notifications]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy188.save(Unknown Source)
	at com.bronx.notification.service.impl.NotificationServiceImpl.createAndQueueNotification(NotificationServiceImpl.java:84)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.notification.service.impl.NotificationServiceImpl$$SpringCGLIB$$0.createAndQueueNotification(<generated>)
	at com.bronx.notification.controller.NotificationApiController.sendNotificaiton(NotificationApiController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (1, 2025-12-25 09:42:35.741624+07, System, 2025-12-25 09:42:35.741624+07, System, null, System, null, null, f, null, 3, null, null, null, null, NORMAL, null, 2025-12-25 09:42:35.611056+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, null, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:720)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 69 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (1, 2025-12-25 09:42:35.741624+07, System, 2025-12-25 09:42:35.741624+07, System, null, System, null, null, f, null, 3, null, null, null, null, NORMAL, null, 2025-12-25 09:42:35.611056+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, null, TEXT).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 119 common frames omitted
2025-12-25 09:42:35 [http-nio-8088-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint<EOL>  Detail: Failing row contains (1, 2025-12-25 09:42:35.741624+07, System, 2025-12-25 09:42:35.741624+07, System, null, System, null, null, f, null, 3, null, null, null, null, NORMAL, null, 2025-12-25 09:42:35.611056+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, null, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [message" of relation "notifications]]
2025-12-25 09:44:22 [http-nio-8088-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-12-25 09:44:22 [http-nio-8088-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "partner_id" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (2, 2025-12-25 09:44:22.339874+07, System, 2025-12-25 09:44:22.339874+07, System, null, System, null, null, f, null, 3, null, null, null, <b>üëã Welcome to the Family, Mr.Lang!</b>
We are thrilled to h..., NORMAL, null, 2025-12-25 09:44:21.827445+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, Check-In, TEXT).
2025-12-25 09:44:22 [http-nio-8088-exec-3] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "partner_id" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (2, 2025-12-25 09:44:22.339874+07, System, 2025-12-25 09:44:22.339874+07, System, null, System, null, null, f, null, 3, null, null, null, <b>üëã Welcome to the Family, Mr.Lang!</b>
We are thrilled to h..., NORMAL, null, 2025-12-25 09:44:21.827445+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, Check-In, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [partner_id" of relation "notifications]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy188.save(Unknown Source)
	at com.bronx.notification.service.impl.NotificationServiceImpl.createAndQueueNotification(NotificationServiceImpl.java:84)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.notification.service.impl.NotificationServiceImpl$$SpringCGLIB$$0.createAndQueueNotification(<generated>)
	at com.bronx.notification.controller.NotificationApiController.sendNotificaiton(NotificationApiController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "partner_id" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (2, 2025-12-25 09:44:22.339874+07, System, 2025-12-25 09:44:22.339874+07, System, null, System, null, null, f, null, 3, null, null, null, <b>üëã Welcome to the Family, Mr.Lang!</b>
We are thrilled to h..., NORMAL, null, 2025-12-25 09:44:21.827445+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, Check-In, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:720)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 69 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "partner_id" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (2, 2025-12-25 09:44:22.339874+07, System, 2025-12-25 09:44:22.339874+07, System, null, System, null, null, f, null, 3, null, null, null, <b>üëã Welcome to the Family, Mr.Lang!</b>
We are thrilled to h..., NORMAL, null, 2025-12-25 09:44:21.827445+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, Check-In, TEXT).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 119 common frames omitted
2025-12-25 09:44:22 [http-nio-8088-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "partner_id" of relation "notifications" violates not-null constraint<EOL>  Detail: Failing row contains (2, 2025-12-25 09:44:22.339874+07, System, 2025-12-25 09:44:22.339874+07, System, null, System, null, null, f, null, 3, null, null, null, <b>üëã Welcome to the Family, Mr.Lang!</b><EOL>We are thrilled to h..., NORMAL, null, 2025-12-25 09:44:21.827445+07, null, 0, null, QUEUED, null, HTML, null, null, null, 1, reply_management_bot, 630296946, null, Check-In, TEXT).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [partner_id" of relation "notifications]]
2025-12-25 09:46:21 [http-nio-8088-exec-5] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content
	at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.createMessage(AbstractJackson2MessageConverter.java:456)
	at org.springframework.amqp.support.converter.AbstractMessageConverter.toMessage(AbstractMessageConverter.java:70)
	at org.springframework.amqp.support.converter.AbstractMessageConverter.toMessage(AbstractMessageConverter.java:58)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertMessageIfNecessary(RabbitTemplate.java:1904)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1243)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1235)
	at com.bronx.notification.service.impl.NotificationServiceImpl.createAndQueueNotification(NotificationServiceImpl.java:86)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.notification.service.impl.NotificationServiceImpl$$SpringCGLIB$$0.createAndQueueNotification(<generated>)
	at com.bronx.notification.controller.NotificationApiController.sendNotificaiton(NotificationApiController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.bronx.notification.model.entity.Notification["subscription"]->com.bronx.notification.model.entity.Subscription$HibernateProxy["scope"]->com.bronx.notification.model.entity.OrganizationUnit$HibernateProxy["company"]->com.bronx.notification.model.entity.Company$HibernateProxy["partner"]->com.bronx.notification.model.entity.Partner$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:415)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:52)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4867)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4112)
	at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.createMessage(AbstractJackson2MessageConverter.java:447)
	... 69 common frames omitted
2025-12-25 09:46:21 [http-nio-8088-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content]
2025-12-25 09:46:40 [http-nio-8088-exec-7] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content
	at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.createMessage(AbstractJackson2MessageConverter.java:456)
	at org.springframework.amqp.support.converter.AbstractMessageConverter.toMessage(AbstractMessageConverter.java:70)
	at org.springframework.amqp.support.converter.AbstractMessageConverter.toMessage(AbstractMessageConverter.java:58)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertMessageIfNecessary(RabbitTemplate.java:1904)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1243)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1235)
	at com.bronx.notification.service.impl.NotificationServiceImpl.createAndQueueNotification(NotificationServiceImpl.java:86)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.notification.service.impl.NotificationServiceImpl$$SpringCGLIB$$0.createAndQueueNotification(<generated>)
	at com.bronx.notification.controller.NotificationApiController.sendNotificaiton(NotificationApiController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.bronx.notification.model.entity.Notification["subscription"]->com.bronx.notification.model.entity.Subscription$HibernateProxy["scope"]->com.bronx.notification.model.entity.OrganizationUnit$HibernateProxy["company"]->com.bronx.notification.model.entity.Company$HibernateProxy["partner"]->com.bronx.notification.model.entity.Partner$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:415)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:52)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4867)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4112)
	at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.createMessage(AbstractJackson2MessageConverter.java:447)
	... 69 common frames omitted
2025-12-25 09:46:40 [http-nio-8088-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content]
2025-12-25 09:51:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:51:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:51:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:51:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:51:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 09:51:21 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 32910 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 09:51:21 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 09:51:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 09:51:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 09:51:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 09:51:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 185 ms. Found 11 JPA repository interfaces.
2025-12-25 09:51:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 09:51:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 09:51:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 09:51:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 09:51:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3916 ms
2025-12-25 09:51:26 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 09:51:26 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 09:51:26 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 09:51:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 09:51:26 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@13f52071
2025-12-25 09:51:26 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 09:51:26 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 09:51:26 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 09:51:27 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 09:51:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 09:51:33 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 09:51:33 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 09:51:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:51:35 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 09:51:41 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 09:51:42 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 09:51:42 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 09:51:42 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:51:42 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 09:51:44 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 09:51:44 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 09:51:44 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:51:44 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 09:51:45 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 09:51:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 09:51:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 09:51:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 09:51:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 09:51:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 09:51:47 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6d08d9a:0/SimpleConnection@dab00fb [delegate=amqp://admin@127.0.0.1:5672/, localPort=54275]
2025-12-25 09:51:48 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 27.757 seconds (process running for 31.382)
2025-12-25 09:59:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 09:59:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 09:59:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 09:59:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:00:03 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 35125 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 10:00:03 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 10:00:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 10:00:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 10:00:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:00:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 11 JPA repository interfaces.
2025-12-25 10:00:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 10:00:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:00:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 10:00:06 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:00:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2818 ms
2025-12-25 10:00:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 10:00:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 10:00:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 10:00:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:00:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b37b435
2025-12-25 10:00:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:00:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:00:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 10:00:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:00:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 10:00:10 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 10:00:10 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 10:00:10 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:00:10 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:00:13 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 10:00:13 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 10:00:13 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 10:00:13 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:00:13 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 10:00:15 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 10:00:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 10:00:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 10:00:16 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 10:00:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 10:00:16 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 10:00:16 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6ccb8d6e:0/SimpleConnection@755cb6 [delegate=amqp://admin@127.0.0.1:5672/, localPort=54629]
2025-12-25 10:00:17 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 15.123 seconds (process running for 19.386)
2025-12-25 10:01:20 [http-nio-8088-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:01:20 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:01:20 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 21 ms
2025-12-25 10:01:21 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 5
2025-12-25 10:01:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 10:01:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending TEXT message to chat_id: 630296946
2025-12-25 10:01:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ TEXT message sent successfully to 630296946 (msg_id: 134)
2025-12-25 10:01:22 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 5 sent successfully
2025-12-25 10:06:45 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:06:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 6
2025-12-25 10:06:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending TEXT message to chat_id: 630296946
2025-12-25 10:06:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ TEXT message sent successfully to 630296946 (msg_id: 135)
2025-12-25 10:06:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 6 sent successfully
2025-12-25 10:08:34 [http-nio-8088-exec-7] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:08:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 7
2025-12-25 10:08:34 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending TEXT message to chat_id: 630296946
2025-12-25 10:08:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ TEXT message sent successfully to 630296946 (msg_id: 136)
2025-12-25 10:08:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 7 sent successfully
2025-12-25 10:09:16 [http-nio-8088-exec-9] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:09:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 8
2025-12-25 10:09:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending TEXT message to chat_id: 630296946
2025-12-25 10:09:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ TEXT message sent successfully to 630296946 (msg_id: 137)
2025-12-25 10:09:17 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 8 sent successfully
2025-12-25 10:12:11 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:12:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 9
2025-12-25 10:12:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:12:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 138)
2025-12-25 10:12:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 9 sent successfully
2025-12-25 10:14:32 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:14:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 10
2025-12-25 10:14:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:14:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:16:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-25 10:16:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR c.b.n.s.i.t.MessageType.AudioMessage - Thumbnail not found in resources: /images/thumb.png
2025-12-25 10:16:55 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 139)
2025-12-25 10:16:55 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 10 sent successfully
2025-12-25 10:17:28 [http-nio-8088-exec-8] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:17:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 11
2025-12-25 10:17:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:17:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:18:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-25 10:18:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.b.n.s.i.t.MessageType.AudioMessage - Thumbnail not found in resources: /images/thumb.png
2025-12-25 10:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 140)
2025-12-25 10:18:49 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 11 sent successfully
2025-12-25 10:25:21 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:25:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 12
2025-12-25 10:25:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:25:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:25:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-25 10:25:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] ERROR c.b.n.s.i.t.MessageType.AudioMessage - Thumbnail not found in resources: /images/thumb.png
2025-12-25 10:25:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 141)
2025-12-25 10:25:54 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 12 sent successfully
2025-12-25 10:32:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 10:32:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 10:32:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:32:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 11 requests)
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:32:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:32:56 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 43445 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 10:32:56 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 10:32:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 10:32:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 10:33:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:33:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 145 ms. Found 11 JPA repository interfaces.
2025-12-25 10:33:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 10:33:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:33:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 10:33:04 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:33:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8313 ms
2025-12-25 10:33:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 10:33:05 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 10:33:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 10:33:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:33:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56cdc033
2025-12-25 10:33:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:33:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:33:06 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 10:33:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:33:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 10:33:09 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 10:33:09 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 10:33:10 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:33:12 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:33:20 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 10:33:21 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 10:33:21 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 10:33:21 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:33:21 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:33:25 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:33:26 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 10:33:26 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:33:26 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 10:33:26 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 10:33:27 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 10:33:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 10:33:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 10:33:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 10:33:38 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 10:33:39 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#763bbda7:0/SimpleConnection@494afc28 [delegate=amqp://admin@127.0.0.1:5672/, localPort=56079]
2025-12-25 10:33:39 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 44.532 seconds (process running for 47.2)
2025-12-25 10:33:50 [RMI TCP Connection(6)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:33:50 [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:33:50 [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-25 10:34:07 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:34:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 13
2025-12-25 10:34:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 10:34:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:34:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:34:16 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-25 10:34:35 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 142)
2025-12-25 10:34:36 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 13 sent successfully
2025-12-25 10:43:05 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 10:43:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:43:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:43:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:43:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:43:18 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 46150 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 10:43:18 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 10:43:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 10:43:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 10:43:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:43:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 115 ms. Found 11 JPA repository interfaces.
2025-12-25 10:43:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 10:43:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:43:22 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 10:43:22 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:43:22 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3960 ms
2025-12-25 10:43:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 10:43:23 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 10:43:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 10:43:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:43:23 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1559c0b3
2025-12-25 10:43:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:43:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:43:24 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 10:43:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:43:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 10:43:26 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 10:43:26 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 10:43:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:43:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:43:29 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 10:43:29 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 10:43:29 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 10:43:29 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:43:29 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:43:31 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:43:32 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 10:43:32 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:43:32 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 10:43:32 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 10:43:32 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 10:43:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 10:43:33 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 10:43:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 10:43:33 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 10:43:33 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#ee5fc28:0/SimpleConnection@3b4cf08f [delegate=amqp://admin@127.0.0.1:5672/, localPort=56512]
2025-12-25 10:43:33 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 16.288 seconds (process running for 18.144)
2025-12-25 10:43:34 [RMI TCP Connection(1)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:43:34 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:43:34 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-12-25 10:43:59 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:43:59 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 14
2025-12-25 10:44:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 10:44:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:44:00 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:44:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 143)
2025-12-25 10:44:28 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 14 sent successfully
2025-12-25 10:47:04 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:47:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 15
2025-12-25 10:47:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:47:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:47:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 144)
2025-12-25 10:47:33 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 15 sent successfully
2025-12-25 10:54:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 10:54:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 10:54:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:54:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 5 requests)
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:54:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:54:28 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 48962 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 10:54:28 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 10:54:29 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 10:54:29 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 10:54:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:54:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 200 ms. Found 11 JPA repository interfaces.
2025-12-25 10:54:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 10:54:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:54:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 10:54:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:54:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3888 ms
2025-12-25 10:54:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 10:54:33 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 10:54:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 10:54:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:54:34 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@17cb2af5
2025-12-25 10:54:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:54:34 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:54:34 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 10:54:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:54:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 10:54:37 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 10:54:37 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 10:54:37 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:54:37 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:54:40 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 10:54:40 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 10:54:40 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 10:54:40 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:54:40 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 10:54:42 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 10:54:42 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 10:54:42 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:54:42 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 10:54:43 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 10:54:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 10:54:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 10:54:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 10:54:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 10:54:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 10:54:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#648568d:0/SimpleConnection@3b5abacc [delegate=amqp://admin@127.0.0.1:5672/, localPort=57105]
2025-12-25 10:54:45 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 18.264 seconds (process running for 20.103)
2025-12-25 10:54:46 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:54:46 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:54:46 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:55:31 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 16
2025-12-25 10:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 10:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:55:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:55:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 145)
2025-12-25 10:55:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 16 sent successfully
2025-12-25 10:58:14 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 10:58:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 17
2025-12-25 10:58:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-25 10:58:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-25 10:59:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 146)
2025-12-25 10:59:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 17 sent successfully
2025-12-25 11:01:17 [http-nio-8088-exec-8] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:408)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:356)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 53, column: 1]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2672)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:742)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2103)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1753)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1040)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:399)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2130)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1500)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:397)
	... 55 common frames omitted
2025-12-25 11:01:17 [http-nio-8088-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name]
2025-12-25 11:01:24 [http-nio-8088-exec-10] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:01:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 18
2025-12-25 11:01:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -5025113915
2025-12-25 11:01:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] ERROR c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚ùå Failed to send VIDEO message to -5025113915: Bad Request: chat not found (code: 400)
2025-12-25 11:01:25 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] ERROR c.b.n.consumer.NotificationConsumer - Notification 18 failed: Bad Request: chat not found
2025-12-25 11:02:06 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:02:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 19
2025-12-25 11:02:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -1001735153839
2025-12-25 11:02:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ VIDEO message sent successfully to -1001735153839 (msg_id: 66)
2025-12-25 11:02:06 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 19 sent successfully
2025-12-25 11:08:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 11:08:38 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 11:08:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:08:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 7 requests)
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:08:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:11:35 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 53190 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 11:11:35 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 11:11:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 11:11:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 11:11:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:11:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 285 ms. Found 11 JPA repository interfaces.
2025-12-25 11:11:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 11:11:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:11:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 11:11:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:11:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5386 ms
2025-12-25 11:11:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 11:11:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 11:11:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 11:11:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:11:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@448c46fa
2025-12-25 11:11:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:11:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:11:42 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 11:11:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:11:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 11:11:45 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 11:11:45 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 11:11:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:11:46 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:11:48 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 11:11:48 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 11:11:48 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 11:11:49 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:11:49 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:11:50 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 11:11:50 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 11:11:50 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:11:50 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 11:11:51 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 11:11:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 11:11:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 11:11:52 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 11:11:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 11:11:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 11:11:52 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1e142b1b:0/SimpleConnection@2ef186a1 [delegate=amqp://admin@127.0.0.1:5672/, localPort=57907]
2025-12-25 11:11:53 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 19.948 seconds (process running for 21.752)
2025-12-25 11:11:53 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:11:53 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:11:53 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-25 11:12:45 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:12:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 20
2025-12-25 11:12:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 11:12:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -1001735153839
2025-12-25 11:12:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ VIDEO message sent successfully to -1001735153839 (msg_id: 67)
2025-12-25 11:12:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 20 sent successfully
2025-12-25 11:14:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 11:14:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:14:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:14:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:14:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:14:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:14:34 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 53939 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 11:14:34 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 11:14:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 11:14:34 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 11:14:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:14:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 11 JPA repository interfaces.
2025-12-25 11:14:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 11:14:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:14:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 11:14:37 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:14:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2979 ms
2025-12-25 11:14:37 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 11:14:37 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 11:14:37 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 11:14:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:14:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376f30e3
2025-12-25 11:14:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:14:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:14:38 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 11:14:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:14:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 11:14:40 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 11:14:40 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 11:14:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:14:40 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:14:44 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 11:14:44 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 11:14:44 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 11:14:44 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:14:44 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:14:46 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 11:14:46 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 11:14:46 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:14:46 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 11:14:47 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 11:14:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 11:14:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 11:14:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 11:14:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 11:14:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 11:14:48 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5190e72b:0/SimpleConnection@7ccc80d0 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58056]
2025-12-25 11:14:48 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 15.978 seconds (process running for 18.094)
2025-12-25 11:15:08 [http-nio-8088-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:15:08 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:15:08 [http-nio-8088-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 11:15:08 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:15:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 21
2025-12-25 11:15:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 11:15:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -1001735153839
2025-12-25 11:15:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.VideoMessage - message: null
2025-12-25 11:15:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ VIDEO message sent successfully to -1001735153839 (msg_id: 68)
2025-12-25 11:15:09 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 21 sent successfully
2025-12-25 11:21:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 11:21:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:21:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:21:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:22:01 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 55816 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 11:22:01 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 11:22:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 11:22:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 11:22:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:22:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 359 ms. Found 11 JPA repository interfaces.
2025-12-25 11:22:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 11:22:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:22:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 11:22:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:22:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3890 ms
2025-12-25 11:22:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 11:22:05 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 11:22:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 11:22:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:22:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ed9d4ff
2025-12-25 11:22:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:22:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:22:06 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 11:22:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:22:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 11:22:08 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 11:22:08 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 11:22:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:22:08 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:22:11 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 11:22:11 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 11:22:11 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 11:22:11 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:22:11 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:22:12 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 11:22:12 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 11:22:12 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:22:12 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 11:22:13 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 11:22:14 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 11:22:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 11:22:15 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 11:22:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 11:22:15 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 11:22:15 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#187731a0:0/SimpleConnection@575acf10 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58407]
2025-12-25 11:22:15 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 14.822 seconds (process running for 15.891)
2025-12-25 11:22:16 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:22:16 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:22:16 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 11:22:57 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:22:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 22
2025-12-25 11:22:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 11:22:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -1001735153839
2025-12-25 11:22:57 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.MessageType.VideoMessage - message: <b>üëã Welcome to the Family!</b>
We are thrilled to have you on board. Your account has been successfully created.
<b>üöÄ Next Steps:</b>
1. <a href="">Complete your Profile</a>
2. <a href="">Read the Quick Start Guide</a>
<i>Need help? Type /help to chat with support.</i>
2025-12-25 11:22:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ VIDEO message sent successfully to -1001735153839 (msg_id: 69)
2025-12-25 11:22:58 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 22 sent successfully
2025-12-25 11:23:52 [http-nio-8088-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-12-25 11:23:52 [http-nio-8088-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (23, 2025-12-25 11:23:52.560245+07, System, 2025-12-25 11:23:52.560245+07, System, null, System, null, null, f, null, 3, null, null, https://videocdn.cdnpk.net/videos/4b3bd2c5-df77-4cb5-9aad-44eb4d..., null, NORMAL, null, 2025-12-25 11:23:52.495303+07, null, 0, null, QUEUED, null, HTML, null, null, 1, reply_management_bot, -1001735153839, null, Check-In, VIDEO).
2025-12-25 11:23:52 [http-nio-8088-exec-3] ERROR c.b.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (23, 2025-12-25 11:23:52.560245+07, System, 2025-12-25 11:23:52.560245+07, System, null, System, null, null, f, null, 3, null, null, https://videocdn.cdnpk.net/videos/4b3bd2c5-df77-4cb5-9aad-44eb4d..., null, NORMAL, null, 2025-12-25 11:23:52.495303+07, null, 0, null, QUEUED, null, HTML, null, null, 1, reply_management_bot, -1001735153839, null, Check-In, VIDEO).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [message" of relation "notifications]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy188.save(Unknown Source)
	at com.bronx.notification.service.impl.NotificationServiceImpl.createAndQueueNotification(NotificationServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.notification.service.impl.NotificationServiceImpl$$SpringCGLIB$$0.createAndQueueNotification(<generated>)
	at com.bronx.notification.controller.NotificationApiController.sendNotificaiton(NotificationApiController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (23, 2025-12-25 11:23:52.560245+07, System, 2025-12-25 11:23:52.560245+07, System, null, System, null, null, f, null, 3, null, null, https://videocdn.cdnpk.net/videos/4b3bd2c5-df77-4cb5-9aad-44eb4d..., null, NORMAL, null, 2025-12-25 11:23:52.495303+07, null, 0, null, QUEUED, null, HTML, null, null, 1, reply_management_bot, -1001735153839, null, Check-In, VIDEO).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy180.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:720)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 69 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "message" of relation "notifications" violates not-null constraint
  Detail: Failing row contains (23, 2025-12-25 11:23:52.560245+07, System, 2025-12-25 11:23:52.560245+07, System, null, System, null, null, f, null, 3, null, null, https://videocdn.cdnpk.net/videos/4b3bd2c5-df77-4cb5-9aad-44eb4d..., null, NORMAL, null, 2025-12-25 11:23:52.495303+07, null, 0, null, QUEUED, null, HTML, null, null, 1, reply_management_bot, -1001735153839, null, Check-In, VIDEO).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 119 common frames omitted
2025-12-25 11:23:52 [http-nio-8088-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "message" of relation "notifications" violates not-null constraint<EOL>  Detail: Failing row contains (23, 2025-12-25 11:23:52.560245+07, System, 2025-12-25 11:23:52.560245+07, System, null, System, null, null, f, null, 3, null, null, https://videocdn.cdnpk.net/videos/4b3bd2c5-df77-4cb5-9aad-44eb4d..., null, NORMAL, null, 2025-12-25 11:23:52.495303+07, null, 0, null, QUEUED, null, HTML, null, null, 1, reply_management_bot, -1001735153839, null, Check-In, VIDEO).] [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notifications (bot_username,media_caption,chart_id,created_at,created_by,deleted_at,deleted_by,failed_at,failure_reason,is_own_custom,max_retries,message,meta_data,priority,processing_at,queued_at,received_at,retry_count,sent_at,status,subscription_id,telegram_template_name,telegram_message_id,parse_mode,type,updated_at,updated_by,media_url) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [message" of relation "notifications]]
2025-12-25 11:25:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-25 11:25:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:25:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.s.impl.TelegramBotServiceImpl - All bots shutdown completed
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-25 11:25:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:25:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:25:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:25:48 [restartedMain] INFO  c.b.n.NotificationApplication - Starting NotificationApplication using Java 21.0.8 with PID 56725 (/Users/bronx-user/Documents/Menglang/api/preview/notification 2/target/classes started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/notification 2)
2025-12-25 11:25:48 [restartedMain] INFO  c.b.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-25 11:25:48 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-25 11:25:48 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-25 11:25:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:25:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 184 ms. Found 11 JPA repository interfaces.
2025-12-25 11:25:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-25 11:25:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:25:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-25 11:25:53 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:25:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5012 ms
2025-12-25 11:25:54 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-25 11:25:54 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-25 11:25:54 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-25 11:25:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:25:54 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4341ea50
2025-12-25 11:25:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:25:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:25:54 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-25 11:25:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:25:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-25 11:25:58 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-12-25 11:25:58 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukhnxjar336jsk7wdk488n9flpg" of relation "organization_units" does not exist, skipping
2025-12-25 11:25:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:25:59 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:26:02 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-25 11:26:03 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-25 11:26:03 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: reply_management_bot (name: ACME Alert)
2025-12-25 11:26:03 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:26:03 [restartedMain] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-25 11:26:04 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @reply_management_bot (reply_bot)
2025-12-25 11:26:04 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot reply_management_bot...
2025-12-25 11:26:04 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:26:04 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 11:26:05 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:26:05 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:26:06 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 11:26:06 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-25 11:26:06 [restartedMain] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 0
2025-12-25 11:26:06 [restartedMain] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-25 11:26:06 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-25 11:26:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-25 11:26:07 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-25 11:26:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-25 11:26:08 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-25 11:26:08 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#62048283:0/SimpleConnection@1c8568e9 [delegate=amqp://admin@127.0.0.1:5672/, localPort=58598]
2025-12-25 11:26:08 [restartedMain] INFO  c.b.n.NotificationApplication - Started NotificationApplication in 21.014 seconds (process running for 23.126)
2025-12-25 11:26:08 [RMI TCP Connection(3)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:26:08 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:26:08 [RMI TCP Connection(3)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 11:26:44 [http-nio-8088-exec-2] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 24
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending VIDEO message to chat_id: -1001735153839
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.MessageType.VideoMessage - message: <b>üëã Welcome to the Family, Mr.Lang!</b>
We are thrilled to have you on board. Your account has been successfully created.
<b>üöÄ Next Steps:</b>
1. <a href="https://mysaas.com/profile">Complete your Profile</a>
2. <a href="https://docs.mysaas.com">Read the Quick Start Guide</a>
<i>Need help? Type /help to chat with support.</i>
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ VIDEO message sent successfully to -1001735153839 (msg_id: 70)
2025-12-25 11:26:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 24 sent successfully
2025-12-25 11:32:14 [http-nio-8088-exec-6] ERROR c.b.n.e.GlobalExceptionHandler - Resource not found: Template not found: Photo-Templat
2025-12-25 11:32:14 [http-nio-8088-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.bronx.notification.exceptions.ResourceNotFoundException: Template not found: Photo-Templat]
2025-12-25 11:32:21 [http-nio-8088-exec-7] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:32:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 25
2025-12-25 11:32:21 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending PHOTO message to chat_id: -1001735153839
2025-12-25 11:32:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚ùå Failed to send PHOTO message to -1001735153839: Bad Request: failed to get HTTP URL content (code: 400)
2025-12-25 11:32:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR c.b.n.consumer.NotificationConsumer - Notification 25 failed: Bad Request: failed to get HTTP URL content
2025-12-25 11:32:53 [http-nio-8088-exec-8] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:32:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 26
2025-12-25 11:32:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending PHOTO message to chat_id: -1001735153839
2025-12-25 11:32:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ PHOTO message sent successfully to -1001735153839 (msg_id: 71)
2025-12-25 11:32:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 26 sent successfully
2025-12-25 11:35:52 [http-nio-8088-exec-1] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:35:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 27
2025-12-25 11:35:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending DOCUMENT message to chat_id: -1001735153839
2025-12-25 11:35:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] ERROR c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚ùå Failed to send DOCUMENT message to -1001735153839: Bad Request: invalid file HTTP URL specified: Unsupported URL protocol (code: 400)
2025-12-25 11:35:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] ERROR c.b.n.consumer.NotificationConsumer - Notification 27 failed: Bad Request: invalid file HTTP URL specified: Unsupported URL protocol
2025-12-25 11:37:53 [http-nio-8088-exec-5] INFO  c.b.n.s.impl.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-25 11:37:53 [http-nio-8088-exec-5] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-25 11:37:53 [http-nio-8088-exec-5] INFO  c.b.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-25 11:37:54 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-25 11:37:54 [http-nio-8088-exec-5] INFO  c.b.n.s.impl.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-25 11:37:54 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-25 11:37:54 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.s.impl.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - === Webhook Info ===
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.TelegramBotClient - Pending updates: 6
2025-12-25 11:37:55 [http-nio-8088-exec-5] WARN  c.b.n.service.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 404 Not Found (timestamp: 1766637397)
2025-12-25 11:37:55 [http-nio-8088-exec-5] INFO  c.b.n.service.impl.BotServiceImpl - Created bot menglang6969Bot for subscription 2 (scope: IT Department)
2025-12-25 11:38:47 [http-nio-8088-exec-4] INFO  c.b.n.s.impl.NotificationServiceImpl - send to queue.....
2025-12-25 11:38:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.consumer.NotificationConsumer - Processing notification 28
2025-12-25 11:38:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-25 11:38:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.s.i.t.TelegramMessageSender - ‚û°Ô∏è Sending PHOTO message to chat_id: -1001735153839
2025-12-25 11:38:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.s.i.t.AbstractTelegramMessageStrategy - ‚úÖ PHOTO message sent successfully to -1001735153839 (msg_id: 72)
2025-12-25 11:38:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  c.b.n.consumer.NotificationConsumer - ‚úÖ Notification 28 sent successfully

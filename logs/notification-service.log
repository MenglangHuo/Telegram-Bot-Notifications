2025-12-24 08:13:08 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 5680 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:13:08 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:13:09 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-24 08:13:09 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-24 08:13:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:13:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 642 ms. Found 11 JPA repository interfaces.
2025-12-24 08:13:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:13:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:13:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:13:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:13:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 21286 ms
2025-12-24 08:13:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:13:32 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-24 08:13:32 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:13:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-24 08:13:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4dc4ef1e
2025-12-24 08:13:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-24 08:13:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:13:34 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:13:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:13:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:13:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:13:48 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 08:13:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:13:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:13:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:13:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:13:53 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:13:56 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-24 08:13:56 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 1
2025-12-24 08:13:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:13:57 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:13:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-24 08:13:57 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:13:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-24 08:13:58 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-24 08:13:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:13:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/1
2025-12-24 08:13:58 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:13:59 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:14:06 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:14:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:14:08 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:14:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:14:09 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:14:09 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#17a16bf7:0/SimpleConnection@3c500711 [delegate=amqp://admin@127.0.0.1:5672/, localPort=50672]
2025-12-24 08:14:09 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 65.115 seconds (process running for 71.965)
2025-12-24 08:14:43 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 08:14:43 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-24 08:14:43 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 13 ms
2025-12-24 08:14:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:14:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:14:50 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:14:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:14:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:14:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:14:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-24 08:14:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-24 08:14:57 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6138 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:14:57 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:14:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-24 08:14:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-24 08:15:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:15:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 11 JPA repository interfaces.
2025-12-24 08:15:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:15:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:15:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:15:01 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:15:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4176 ms
2025-12-24 08:15:01 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:15:01 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-24 08:15:01 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:15:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-24 08:15:02 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6189b314
2025-12-24 08:15:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-24 08:15:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:15:02 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:15:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:15:04 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:15:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:15:05 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 08:15:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:15:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 1 active bots to initialize
2025-12-24 08:15:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:15:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:15:05 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:15:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:15:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:15:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:15:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:15:08 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:15:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 1/1 bots active
2025-12-24 08:15:10 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:15:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:15:11 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:15:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:15:11 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:15:11 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3d6ab2a2:0/SimpleConnection@2268b09d [delegate=amqp://admin@127.0.0.1:5672/, localPort=50737]
2025-12-24 08:15:12 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 15.382 seconds (process running for 16.56)
2025-12-24 08:15:12 [RMI TCP Connection(1)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 08:15:12 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-24 08:15:12 [RMI TCP Connection(1)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-24 08:16:28 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:16:28 [http-nio-8088-exec-1] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:16:28 [http-nio-8088-exec-1] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:16:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:16:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:16:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:16:30 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:16:31 [http-nio-8088-exec-1] INFO  c.b.t.n.service.impl.BotServiceImpl - Created bot private_health_care_bot for subscription 3 (scope: Backend Department)
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - === Chat Member Update ===
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat ID: -1001735153839
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat Type: channel
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Chat Title: Packages Ts
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Description chart: N/A
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - All message: {"id":-1001735153839,"title":"Packages Ts","type":"channel"}
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - chart member: {"chat":{"id":-1001735153839,"title":"Packages Ts","type":"channel"},"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"date":1766539049,"old_chat_member":{"user":{"id":7620647513,"is_bot":true,"first_name":"@Klocknow_Notification","username":"private_health_care_bot"},"status":"left"},"new_chat_member":{"user":{"id":7620647513,"is_bot":true,"first_name":"@Klocknow_Notification","username":"private_health_care_bot"},"status":"administrator","can_be_edited":false,"can_manage_chat":true,"can_change_info":true,"can_post_messages":true,"can_edit_messages":true,"can_delete_messages":true,"can_invite_users":true,"can_restrict_members":true,"can_promote_members":true,"can_manage_video_chats":true,"can_post_stories":true,"can_edit_stories":true,"can_delete_stories":true,"can_manage_direct_messages":true,"is_anonymous":false,"can_manage_voice_chats":true}}
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - chatMember from true ‚Üí {"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"}
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Status changed: left ‚Üí administrator
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821079: {"update_id":105821079,"my_chat_member":{"chat":{"id":-1001735153839,"title":"Packages Ts","type":"channel"},"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"date":1766539049,"old_chat_member":{"user":{"id":7620647513,"is_bot":true,"first_name":"@Klocknow_Notification","username":"private_health_care_bot"},"status":"left"},"new_chat_member":{"user":{"id":7620647513,"is_bot":true,"first_name":"@Klocknow_Notification","username":"private_health_care_bot"},"status":"administrator","can_be_edited":false,"can_manage_chat":true,"can_change_info":true,"can_post_messages":true,"can_edit_messages":true,"can_delete_messages":true,"can_invite_users":true,"can_restrict_members":true,"can_promote_members":true,"can_manage_video_chats":true,"can_post_stories":true,"can_edit_stories":true,"can_delete_stories":true,"can_manage_direct_messages":true,"is_anonymous":false,"can_manage_voice_chats":true}}}
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 124 for processing
2025-12-24 08:17:30 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 124 for processing
2025-12-24 08:17:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 124 with command /add_new_chat
2025-12-24 08:17:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.CommandHandler - Handling add new chat with Bot: Klocknow Notification
2025-12-24 08:17:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.TelegramChannelServiceImpl - ‚úÖ Registered channel 'Packages Ts' for subscription 3
2025-12-24 08:17:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 124
2025-12-24 08:18:30 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued personal notification 62 for employee EMP-004 (priority: NORMAL)
2025-12-24 08:18:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  c.b.t.n.c.NotificationConsumer - Processing personal notification 62
2025-12-24 08:18:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.b.t.n.c.NotificationConsumer - Notification 62 failed: Employee has no Telegram chat ID 4
2025-12-24 08:18:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR c.b.t.n.c.NotificationConsumer - ‚ùå Employee EMP-004 has no telegram_chat_id
2025-12-24 08:21:03 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:03 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821080: {"update_id":105821080,"message":{"message_id":53,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539262,"text":"üìù Register"}}
2025-12-24 08:21:03 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 125 for processing
2025-12-24 08:21:03 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 125 for processing
2025-12-24 08:21:03 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 125 with command üìù Register
2025-12-24 08:21:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 54)
2025-12-24 08:21:04 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 125
2025-12-24 08:21:20 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:20 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821081: {"update_id":105821081,"message":{"message_id":55,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539279,"text":"adamsmith.developer@acme.com","entities":[{"offset":0,"length":28,"type":"email"}]}}
2025-12-24 08:21:20 [http-nio-8088-exec-10] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 126 for processing
2025-12-24 08:21:20 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 126 for processing
2025-12-24 08:21:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 126 with command adamsmith.developer@acme.com
2025-12-24 08:21:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMAIL, delegating to state handler
2025-12-24 08:21:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 56)
2025-12-24 08:21:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 126
2025-12-24 08:21:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821082: {"update_id":105821082,"message":{"message_id":57,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539289,"text":"EMP-004"}}
2025-12-24 08:21:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 127 for processing
2025-12-24 08:21:29 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 127 for processing
2025-12-24 08:21:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 127 with command EMP-004
2025-12-24 08:21:29 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_EMP_CODE, delegating to state handler
2025-12-24 08:21:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 58)
2025-12-24 08:21:30 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 127
2025-12-24 08:21:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821083: {"update_id":105821083,"message":{"message_id":59,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539297,"text":"099 889988"}}
2025-12-24 08:21:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 128 for processing
2025-12-24 08:21:37 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 128 for processing
2025-12-24 08:21:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 128 with command 099 889988
2025-12-24 08:21:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_CONTACT, delegating to state handler
2025-12-24 08:21:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 60)
2025-12-24 08:21:37 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 128
2025-12-24 08:21:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821084: {"update_id":105821084,"message":{"message_id":61,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539302,"text":"MenglangHuo"}}
2025-12-24 08:21:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 129 for processing
2025-12-24 08:21:42 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 129 for processing
2025-12-24 08:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 129 with command MenglangHuo
2025-12-24 08:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_FULL_NAME, delegating to state handler
2025-12-24 08:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 62)
2025-12-24 08:21:42 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 129
2025-12-24 08:21:51 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:21:51 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821085: {"update_id":105821085,"message":{"message_id":63,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539311,"text":"Web Developer"}}
2025-12-24 08:21:51 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 130 for processing
2025-12-24 08:21:51 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 130 for processing
2025-12-24 08:21:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 130 with command Web Developer
2025-12-24 08:21:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.w.WebhookCommandServiceImpl - User in state AWAITING_ROLE, delegating to state handler
2025-12-24 08:21:51 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üîç Registration attempt - Email: adamsmith.developer@acme.com
2025-12-24 08:21:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 64)
2025-12-24 08:21:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Keyboard message sent. ID: 65
2025-12-24 08:21:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 130
2025-12-24 08:22:01 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:22:01 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821086: {"update_id":105821086,"message":{"message_id":66,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539321,"text":"üìä Status"}}
2025-12-24 08:22:01 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 131 for processing
2025-12-24 08:22:01 [http-nio-8088-exec-5] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 131 for processing
2025-12-24 08:22:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 131 with command üìä Status
2025-12-24 08:22:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Fetching status for chatId: 630296946
2025-12-24 08:22:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended personal info for employee: EMP-004
2025-12-24 08:22:01 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.helper.StatusHandler - successfully appended company info for employee: EMP-004
2025-12-24 08:22:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 67)
2025-12-24 08:22:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.s.i.w.helper.StatusHandler - Status sent successfully for employee: EMP-004
2025-12-24 08:22:02 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 131
2025-12-24 08:22:14 [http-nio-8088-exec-6] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued personal notification 63 for employee EMP-004 (priority: NORMAL)
2025-12-24 08:22:14 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.c.NotificationConsumer - Processing personal notification 63
2025-12-24 08:22:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-24 08:22:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-24 08:22:15 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-24 08:22:18 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-24 08:22:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 7022)
2025-12-24 08:22:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.c.NotificationConsumer - chart id: 630296946
2025-12-24 08:22:23 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Personal notification 63 sent successfully
2025-12-24 08:24:24 [http-nio-8088-exec-10] ERROR c.b.t.n.e.GlobalExceptionHandler - Business exception: Employee not in subscription company
2025-12-24 08:24:24 [http-nio-8088-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.bronx.telegram.notification.exceptions.BusinessException: Employee not in subscription company]
2025-12-24 08:25:08 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued personal notification 64 for employee EMP-004 (priority: NORMAL)
2025-12-24 08:25:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.c.NotificationConsumer - Processing personal notification 64
2025-12-24 08:25:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚úÖ Created 5 message strategies
2025-12-24 08:25:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.s.t.TelegramMessageSender - ‚û°Ô∏è Sending AUDIO message to chat_id: 630296946
2025-12-24 08:25:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Downloading audio from URL to extract metadata...
2025-12-24 08:25:12 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.s.t.MessageType.AudioMessage - Audio downloaded, proceeding to send with metadata.
2025-12-24 08:25:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.s.t.AbstractTelegramMessageStrategy - ‚úÖ AUDIO message sent successfully to 630296946 (msg_id: 68)
2025-12-24 08:25:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.c.NotificationConsumer - chart id: 630296946
2025-12-24 08:25:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  c.b.t.n.c.NotificationConsumer - ‚úÖ Personal notification 64 sent successfully
2025-12-24 08:26:51 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üìù Creating employee: john Developer (john.developer@acme.com)
2025-12-24 08:26:51 [http-nio-8088-exec-5] INFO  c.b.t.n.s.i.EmployeeRegistrationService - ‚úÖ Created employee: EMP-004 in org unit: Backend Department
2025-12-24 08:26:51 [http-nio-8088-exec-5] ERROR c.b.t.n.e.GlobalExceptionHandler - Unexpected error
org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:305)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy185.findBotUsernameByEmployeeCode(Unknown Source)
	at com.bronx.telegram.notification.mapper.EmployeeMapper.generateDeepLink(EmployeeMapper.java:31)
	at com.bronx.telegram.notification.mapper.EmployeeMapperImpl.toResponse(EmployeeMapperImpl.java:80)
	at com.bronx.telegram.notification.service.impl.EmployeeRegistrationService.createEmployee(EmployeeRegistrationService.java:124)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.bronx.telegram.notification.service.impl.EmployeeRegistrationService$$SpringCGLIB$$0.createEmployee(<generated>)
	at com.bronx.telegram.notification.controller.EmployeeController.createDivision(EmployeeController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.hibernate.NonUniqueResultException: Query did not return a unique result: 2 results were returned
	at org.hibernate.query.spi.AbstractSelectionQuery.uniqueElement(AbstractSelectionQuery.java:298)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:281)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 71 common frames omitted
2025-12-24 08:26:51 [http-nio-8088-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.IncorrectResultSizeDataAccessException: Query did not return a unique result: 2 results were returned]
2025-12-24 08:27:27 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üìù Creating employee: john Developer (john.developer@acme.com)
2025-12-24 08:27:27 [http-nio-8088-exec-8] INFO  c.b.t.n.s.i.EmployeeRegistrationService - ‚úÖ Created employee: EMP-005 in org unit: Backend Department
2025-12-24 08:28:11 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:28:11 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: Wu
2025-12-24 08:28:11 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821087: {"update_id":105821087,"message":{"message_id":69,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539690,"text":"/start Wu","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:28:11 [http-nio-8088-exec-9] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 132 for processing
2025-12-24 08:28:11 [http-nio-8088-exec-9] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 132 for processing
2025-12-24 08:28:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 132 with command /start
2025-12-24 08:28:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] ERROR c.b.t.n.utils.EncryptionUtils - Decryption failed
java.lang.NegativeArraySizeException: -11
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:52)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-24 08:28:11 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 132
java.lang.RuntimeException: Decryption failed
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:67)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.lang.NegativeArraySizeException: -11
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:52)
	... 36 common frames omitted
2025-12-24 08:28:43 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:28:43 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: WucAorDE2Ny4dJWgsBMkciEmIriw
2025-12-24 08:28:43 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821088: {"update_id":105821088,"message":{"message_id":70,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539723,"text":"/start WucAorDE2Ny4dJWgsBMkciEmIriw","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:28:43 [http-nio-8088-exec-10] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 133 for processing
2025-12-24 08:28:43 [http-nio-8088-exec-10] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 133 for processing
2025-12-24 08:28:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 133 with command /start
2025-12-24 08:28:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] ERROR c.b.t.n.utils.EncryptionUtils - Decryption failed
javax.crypto.AEADBadTagException: Input data too short to contain an expected tag length of 16bytes
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1464)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:402)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2260)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:62)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-24 08:28:43 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 133
java.lang.RuntimeException: Decryption failed
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:67)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: javax.crypto.AEADBadTagException: Input data too short to contain an expected tag length of 16bytes
	at java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(GaloisCounterMode.java:1464)
	at java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(GaloisCounterMode.java:402)
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2260)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:62)
	... 36 common frames omitted
2025-12-24 08:28:53 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:28:53 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxh
2025-12-24 08:28:53 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821089: {"update_id":105821089,"message":{"message_id":71,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539733,"text":"/start WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxh","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:28:53 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 134 for processing
2025-12-24 08:28:53 [http-nio-8088-exec-1] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 134 for processing
2025-12-24 08:28:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 134 with command /start
2025-12-24 08:28:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR c.b.t.n.utils.EncryptionUtils - Decryption failed
java.lang.IllegalArgumentException: Last unit does not have enough valid bits
	at java.base/java.util.Base64$Decoder.decode0(Base64.java:872)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:570)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:593)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:49)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-24 08:28:53 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 134
java.lang.RuntimeException: Decryption failed
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:67)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.lang.IllegalArgumentException: Last unit does not have enough valid bits
	at java.base/java.util.Base64$Decoder.decode0(Base64.java:872)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:570)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:593)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:49)
	... 36 common frames omitted
2025-12-24 08:29:24 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:29:24 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxhNo8nwesB
2025-12-24 08:29:24 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821090: {"update_id":105821090,"message":{"message_id":72,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539763,"text":"/start WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxhNo8nwesB","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:29:24 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 135 for processing
2025-12-24 08:29:24 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 135 for processing
2025-12-24 08:29:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 135 with command /start
2025-12-24 08:29:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] ERROR c.b.t.n.utils.EncryptionUtils - Decryption failed
java.lang.IllegalArgumentException: Last unit does not have enough valid bits
	at java.base/java.util.Base64$Decoder.decode0(Base64.java:872)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:570)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:593)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:49)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-24 08:29:24 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 135
java.lang.RuntimeException: Decryption failed
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:67)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.sendStartMenu(CommandHandler.java:69)
	at com.bronx.telegram.notification.service.impl.webhookCommand.helper.CommandHandler.handleCommand(CommandHandler.java:37)
	at com.bronx.telegram.notification.service.impl.webhookCommand.WebhookCommandServiceImpl.handleCommand(WebhookCommandServiceImpl.java:49)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: java.lang.IllegalArgumentException: Last unit does not have enough valid bits
	at java.base/java.util.Base64$Decoder.decode0(Base64.java:872)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:570)
	at java.base/java.util.Base64$Decoder.decode(Base64.java:593)
	at com.bronx.telegram.notification.utils.EncryptionUtils.decrypt(EncryptionUtils.java:49)
	... 36 common frames omitted
2025-12-24 08:29:31 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:29:31 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxhNo8nwesB
2025-12-24 08:29:31 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821091: {"update_id":105821091,"message":{"message_id":73,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766539770,"text":"/start WucAorDE2Ny4dJWgsBMkciEmIriw4f56k1sgom7JAfnahZDxhNo8nwesB","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:29:31 [http-nio-8088-exec-4] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 136 for processing
2025-12-24 08:29:31 [http-nio-8088-exec-4] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 136 for processing
2025-12-24 08:29:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 136 with command /start
2025-12-24 08:29:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] ERROR c.b.t.n.consumer.WebhookConsumer - Error processing webhook 136
jakarta.persistence.EntityNotFoundException: Webhook not found
	at com.bronx.telegram.notification.consumer.WebhookConsumer.lambda$processWebhook$0(WebhookConsumer.java:34)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.bronx.telegram.notification.consumer.WebhookConsumer.processWebhook(WebhookConsumer.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:80)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:274)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:221)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1694)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1616)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:114)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:357)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:246)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at org.springframework.amqp.rabbit.listener.$Proxy224.invokeListener(Unknown Source)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1595)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1540)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1521)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1091)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1027)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1431)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1331)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2025-12-24 08:32:39 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (0 additions, 5 deletions, 0 modifications)
2025-12-24 08:32:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:32:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:32:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:32:40 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:32:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:32:41 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:32:41 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:32:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 12 requests)
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:32:41 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:32:41 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:32:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-24 08:32:41 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-24 08:32:42 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6138 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:32:42 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:32:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:32:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 11 JPA repository interfaces.
2025-12-24 08:32:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:32:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:32:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:32:44 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:32:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2444 ms
2025-12-24 08:32:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:32:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:32:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-24 08:32:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@71adb341
2025-12-24 08:32:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-24 08:32:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:32:45 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:32:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:32:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:32:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:32:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:32:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:32:48 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:32:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:32:48 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:32:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:32:50 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:32:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:32:50 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:32:51 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:32:51 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:32:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:32:52 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:32:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:32:52 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:32:53 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:32:54 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationFlowHandler' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/RegistrationFlowHandler.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:32:54 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:32:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:32:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-24 08:32:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-24 08:32:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-24 08:32:55 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-24 08:32:55 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-24 08:32:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 6138 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:32:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:32:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:32:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 301 ms. Found 11 JPA repository interfaces.
2025-12-24 08:32:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:32:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:32:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:32:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:32:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1928 ms
2025-12-24 08:33:01 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:33:01 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:33:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-24 08:33:01 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@27a136e
2025-12-24 08:33:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-24 08:33:01 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:33:01 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:33:01 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:33:03 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:33:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:33:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:33:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:33:04 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:33:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:33:04 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:33:06 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:33:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:33:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:33:09 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:33:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:33:09 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:33:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:33:10 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:33:10 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7d44d663:0/SimpleConnection@7ea2d73c [delegate=amqp://admin@127.0.0.1:5672/, localPort=51624]
2025-12-24 08:33:10 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 13.344 seconds (process running for 1094.856)
2025-12-24 08:33:10 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-24 08:33:32 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 08:33:32 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-24 08:33:32 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-12-24 08:33:33 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.EmployeeRegistrationService - üìù Creating employee: john Developer (john.developer@acme.com)
2025-12-24 08:33:33 [http-nio-8088-exec-1] INFO  c.b.t.n.s.i.EmployeeRegistrationService - ‚úÖ Created employee: EMP-005 in org unit: Backend Department
2025-12-24 08:33:52 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:33:52 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: mql5TbCZwEDk7QNY3tjWQmhhFscCfaRjvNyXRSB4rfZ8kQk
2025-12-24 08:33:52 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821092: {"update_id":105821092,"message":{"message_id":74,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766540032,"text":"/start mql5TbCZwEDk7QNY3tjWQmhhFscCfaRjvNyXRSB4rfZ8kQk","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:33:52 [http-nio-8088-exec-3] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 137 for processing
2025-12-24 08:33:52 [http-nio-8088-exec-3] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 137 for processing
2025-12-24 08:33:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 137 with command /start
2025-12-24 08:33:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.CommandHandler - Deeplink parameter detected: EMP-005
2025-12-24 08:33:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 75)
2025-12-24 08:33:52 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 137
2025-12-24 08:35:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:35:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:35:47 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:35:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:35:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:35:48 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:35:48 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-24 08:35:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-24 08:35:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 11557 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:35:56 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:35:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-24 08:35:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-24 08:35:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:35:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 11 JPA repository interfaces.
2025-12-24 08:35:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:35:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:35:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:35:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:35:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2857 ms
2025-12-24 08:36:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:36:00 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2025-12-24 08:36:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:36:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-24 08:36:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@f06168a
2025-12-24 08:36:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-24 08:36:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:36:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:36:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:36:04 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:36:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:36:05 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 08:36:05 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:36:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:36:06 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:36:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:36:06 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:36:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:36:07 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:36:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:36:07 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:36:08 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:36:08 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:36:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:36:09 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:36:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:36:09 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:36:10 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:36:13 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:36:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:36:14 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:36:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:36:14 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:36:14 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#6623e846:0/SimpleConnection@565e4c50 [delegate=amqp://admin@127.0.0.1:5672/, localPort=51773]
2025-12-24 08:36:14 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 18.791 seconds (process running for 20.286)
2025-12-24 08:36:15 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 08:36:15 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-24 08:36:15 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-12-24 08:36:45 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - telegram handler...
2025-12-24 08:36:45 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - üéØ Deep link found! Parameter: mql5TbCZwEDk7QNY3tjWQmhhFscCfaRjvNyXRSB4rfZ8kQk
2025-12-24 08:36:45 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - Received webhook update 105821093: {"update_id":105821093,"message":{"message_id":76,"from":{"id":630296946,"is_bot":false,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","language_code":"en"},"chat":{"id":630296946,"first_name":"Huo","last_name":"Menglang","username":"Menglang_HUO","type":"private"},"date":1766540204,"text":"/start mql5TbCZwEDk7QNY3tjWQmhhFscCfaRjvNyXRSB4rfZ8kQk","entities":[{"offset":0,"length":6,"type":"bot_command"}]}}
2025-12-24 08:36:45 [http-nio-8088-exec-2] INFO  c.b.t.n.s.i.NotificationQueueServiceImpl - üì§ Queued webhook 138 for processing
2025-12-24 08:36:45 [http-nio-8088-exec-2] INFO  c.b.t.n.s.impl.WebhookServiceImpl - ‚úÖ Queued webhook 138 for processing
2025-12-24 08:36:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Processing webhook 138 with command /start
2025-12-24 08:36:45 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.i.w.helper.CommandHandler - Deeplink parameter detected: EMP-005
2025-12-24 08:36:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Message sent successfully to chat 630296946 (msg_id: 77)
2025-12-24 08:36:46 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  c.b.t.n.consumer.WebhookConsumer - Successfully processed webhook 138
2025-12-24 08:44:19 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2025-12-24 08:44:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:19 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:20 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:20 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:44:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 4 requests)
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:44:20 [Thread-5] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:44:20 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:44:20 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-24 08:44:20 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-24 08:44:20 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 11557 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:44:20 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:44:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:44:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 11 JPA repository interfaces.
2025-12-24 08:44:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:44:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:44:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:44:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:44:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 904 ms
2025-12-24 08:44:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:44:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:44:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-24 08:44:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5d2c56d8
2025-12-24 08:44:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-24 08:44:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:44:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:44:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:44:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:44:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:44:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:44:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:44:22 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:44:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:44:22 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:24 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:44:24 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:44:25 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:44:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:44:25 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:44:26 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:44:28 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:44:30 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:44:30 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:44:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:44:30 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:44:30 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3e727a4:0/SimpleConnection@60fa7e [delegate=amqp://admin@127.0.0.1:5672/, localPort=52142]
2025-12-24 08:44:30 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 9.874 seconds (process running for 516.015)
2025-12-24 08:44:30 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-24 08:44:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (4 additions, 0 deletions, 0 modifications)
2025-12-24 08:44:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:31 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:44:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:32 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:44:32 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:44:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:44:32 [Thread-7] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:44:32 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:44:32 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-24 08:44:32 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-24 08:44:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 11557 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:44:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:44:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:44:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 11 JPA repository interfaces.
2025-12-24 08:44:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:44:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:44:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:44:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:44:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2582 ms
2025-12-24 08:44:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:44:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:44:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-24 08:44:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@4287477e
2025-12-24 08:44:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-24 08:44:35 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:44:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:44:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:44:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:44:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:44:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:44:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:44:37 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:44:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:44:37 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:44:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:44:38 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:44:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:38 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:44:39 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:44:39 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:44:40 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:40 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:44:41 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:44:42 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:44:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:44:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:44:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:44:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:44:45 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7b5b1d7d:0/SimpleConnection@63fa06a5 [delegate=amqp://admin@127.0.0.1:5672/, localPort=52160]
2025-12-24 08:44:45 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 12.734 seconds (process running for 530.974)
2025-12-24 08:44:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-24 08:46:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 44 class path changes (0 additions, 44 deletions, 0 modifications)
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:46:08 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2025-12-24 08:46:08 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-24 08:46:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:46:08 [Thread-11] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:46:08 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:46:08 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-24 08:46:08 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-24 08:46:09 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 11557 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:46:09 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:46:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:46:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 11 JPA repository interfaces.
2025-12-24 08:46:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:46:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:46:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:46:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:46:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1398 ms
2025-12-24 08:46:11 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:46:11 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:46:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-24 08:46:11 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@5e94d9d5
2025-12-24 08:46:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-24 08:46:11 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:46:11 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:46:11 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:46:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:46:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:46:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:46:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:46:14 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:46:15 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:46:15 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:16 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:46:17 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:46:17 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:18 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:46:19 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webhookConsumer' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/consumer/WebhookConsumer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'webhookCommandServiceImpl' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/WebhookCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationFlowHandler' defined in file [/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main/com/bronx/telegram/notification/service/impl/webhookCommand/helper/RegistrationFlowHandler.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.bronx.telegram.notification.service.UserBotStateService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Shutting down all Telegram bots...
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üõë Shutting down TelegramBotClient (processed 3 requests)
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ TelegramBotClient shutdown completed
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - All bots shutdown completed
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - üõë Shutting down all TelegramBotClients...
2025-12-24 08:46:19 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ All clients shutdown completed
2025-12-24 08:46:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:46:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-24 08:46:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-24 08:46:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-12-24 08:46:19 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-24 08:46:19 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bronx.telegram.notification.service.impl.webhookCommand.helper.RegistrationFlowHandler required a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' that could not be found.


Action:

Consider defining a bean of type 'com.bronx.telegram.notification.service.UserBotStateService' in your configuration.

2025-12-24 08:46:21 [restartedMain] INFO  c.b.t.n.NotificationApplication - Starting NotificationApplication using Java 25.0.1 with PID 11557 (/Users/bronx-user/Documents/Menglang/api/preview/telegram/build/classes/java/main started by bronx-user in /Users/bronx-user/Documents/Menglang/api/preview/telegram)
2025-12-24 08:46:21 [restartedMain] INFO  c.b.t.n.NotificationApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-24 08:46:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 08:46:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 336 ms. Found 11 JPA repository interfaces.
2025-12-24 08:46:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-12-24 08:46:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-24 08:46:25 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24 08:46:25 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-24 08:46:25 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4029 ms
2025-12-24 08:46:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 08:46:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-24 08:46:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-24 08:46:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@47427f64
2025-12-24 08:46:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-24 08:46:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-24 08:46:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 15.15
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-24 08:46:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 08:46:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 08:46:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 08:46:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üöÄ Initializing Telegram bots...
2025-12-24 08:46:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Found 2 active bots to initialize
2025-12-24 08:46:27 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: menglang6969Bot (name: ACME Announcement)
2025-12-24 08:46:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:46:27 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 2
2025-12-24 08:46:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @menglang6969Bot (Menglang _Bot)
2025-12-24 08:46:28 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot menglang6969Bot...
2025-12-24 08:46:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:28 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/2
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:46:29 [restartedMain] WARN  c.b.t.n.s.impl.TelegramBotClient - ‚ö†Ô∏è Last error: Wrong response from the webhook: 502 Bad Gateway (timestamp: 1766497287)
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - üìù Registering bot: private_health_care_bot (name: Klocknow Notification)
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:46:29 [restartedMain] INFO  c.b.t.n.c.TelegramBotClientFactory - ‚úÖ Created TelegramBotClient for bot id: 3
2025-12-24 08:46:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Bot verified: @private_health_care_bot (@Klocknow_Notification)
2025-12-24 08:46:30 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - Setting up webhook for bot private_health_care_bot...
2025-12-24 08:46:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üîó Setting webhook: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:30 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - üìã Allowed updates: [message, callback_query, my_chat_member, channel_post]
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - ‚úÖ Webhook set successfully: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Webhook configured: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - === Webhook Info ===
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - URL: https://chewiest-tawny-nonmanually.ngrok-free.dev/api/webhook/telegram/3
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.impl.TelegramBotClient - Pending updates: 0
2025-12-24 08:46:31 [restartedMain] INFO  c.b.t.n.s.i.TelegramBotServiceImpl - ‚úÖ Bot initialization completed. 2/2 bots active
2025-12-24 08:46:31 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 08:46:32 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-24 08:46:32 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-12-24 08:46:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path '/'
2025-12-24 08:46:32 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2025-12-24 08:46:32 [restartedMain] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#731414c:0/SimpleConnection@42474308 [delegate=amqp://admin@127.0.0.1:5672/, localPort=52243]
2025-12-24 08:46:32 [restartedMain] INFO  c.b.t.n.NotificationApplication - Started NotificationApplication in 11.46 seconds (process running for 638.046)
2025-12-24 08:46:32 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
